import{d as W,e as A,z as O,r as y,A as U,J as i,o as r,w as a,O as M,B as q,a as e,h as m,i as t,C as E,S as j,g as c,t as u,P as z,M as B,l as b,x as F,_ as J}from"./index-QQaZ7rbf.js";import{_ as G}from"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import{b as H,u as K}from"./index-AwhozRCE.js";const L=J(W({__name:"OrderSend",emits:["success"],setup(Q,{expose:g,emit:C}){const{t:P}=A(),_=O(),n=y(!1),T=y(""),p=y(!1),h=y(""),d=y({id:void 0,updateType:"",orderId:void 0,orderType:void 0,extendOrderId:void 0,uid:void 0,realName:void 0,userPhone:void 0,userAddress:void 0,cartId:void 0,freightPrice:void 0,totalNum:void 0,totalPrice:void 0,totalPostage:void 0,payPrice:void 0,payPostage:void 0,deductionPrice:void 0,couponId:void 0,couponPrice:void 0,paid:void 0,payTime:void 0,payType:void 0,status:void 0,refundStatus:void 0,refundReasonWapImg:void 0,refundReasonWapExplain:void 0,refundReasonTime:void 0,refundReasonWap:void 0,refundReason:void 0,refundPrice:void 0,deliverySn:void 0,deliveryName:void 0,deliveryType:"normal",deliveryId:void 0,gainIntegral:void 0,useIntegral:void 0,payIntegral:void 0,backIntegral:void 0,mark:void 0,unique:void 0,remark:void 0,merId:void 0,combinationId:void 0,pinkId:void 0,cost:void 0,seckillId:void 0,bargainId:void 0,verifyCode:void 0,storeId:void 0,shippingType:void 0,isChannel:void 0,isSystemDel:void 0}),N=U({}),f=y();g({open:async(l,o)=>{if(n.value=!0,T.value="\u5C0F\u7968\u6253\u5370",h.value=l,R(),o){p.value=!0;try{d.value=await H(o)}finally{p.value=!1}}}});const S=C,V=async()=>{if(f&&await f.value.validate()){p.value=!0;try{const l=d.value;l.updateType="orderSend",await K(l),_.success(P("common.updateSuccess")),n.value=!1,S("success")}finally{p.value=!1}}},R=()=>{var l;d.value={id:void 0,updateType:"",orderId:void 0,orderType:void 0,extendOrderId:void 0,uid:void 0,realName:void 0,userPhone:void 0,userAddress:void 0,cartId:void 0,freightPrice:void 0,totalNum:void 0,totalPrice:void 0,totalPostage:void 0,payPrice:void 0,payPostage:void 0,deductionPrice:void 0,couponId:void 0,couponPrice:void 0,paid:void 0,payTime:void 0,payType:void 0,status:void 0,refundStatus:void 0,refundReasonWapImg:void 0,refundReasonWapExplain:void 0,refundReasonTime:void 0,refundReasonWap:void 0,refundReason:void 0,refundPrice:void 0,deliverySn:void 0,deliveryName:void 0,deliveryType:"normal",deliveryId:void 0,gainIntegral:void 0,useIntegral:void 0,payIntegral:void 0,backIntegral:void 0,mark:void 0,unique:void 0,remark:void 0,merId:void 0,combinationId:void 0,pinkId:void 0,cost:void 0,seckillId:void 0,bargainId:void 0,verifyCode:void 0,storeId:void 0,shippingType:void 0,isChannel:void 0,isSystemDel:void 0},(l=f.value)==null||l.resetFields()};return(l,o)=>{const I=j,s=E,x=q,k=B,D=G,w=z;return r(),i(D,{title:e(T),modelValue:e(n),"onUpdate:modelValue":o[4]||(o[4]=v=>F(n)?n.value=v:null)},{footer:a(()=>[m(k,{onClick:V,type:"primary",disabled:e(p)},{default:a(()=>[b("\u6253 \u5370")]),_:1},8,["disabled"]),m(k,{onClick:o[3]||(o[3]=v=>n.value=!1)},{default:a(()=>[b("\u53D6 \u6D88")]),_:1})]),default:a(()=>[M((r(),i(x,{ref_key:"formRef",ref:f,model:e(d),rules:e(N),"label-width":"120px"},{default:a(()=>[m(s,{label:"\u8BA2\u5355\u53F7",prop:"orderType"},{default:a(()=>[m(I,{modelValue:e(d).orderId,"onUpdate:modelValue":o[0]||(o[0]=v=>e(d).orderId=v),disabled:"",class:"input-width"},null,8,["modelValue"])]),_:1}),e(d).orderType=="desk"?(r(),i(s,{key:0,label:"\u684C\u53F7",prop:"orderType"},{default:a(()=>[m(I,{modelValue:e(d).deskNumber,"onUpdate:modelValue":o[1]||(o[1]=v=>e(d).deskNumber=v),disabled:"",class:"input-width"},null,8,["modelValue"])]),_:1})):t("",!0),e(d).orderType=="takein"?(r(),i(s,{key:1,label:"\u53D6\u9910\u53F7",prop:"orderType"},{default:a(()=>[m(I,{modelValue:e(d).numberId,"onUpdate:modelValue":o[2]||(o[2]=v=>e(d).numberId=v),disabled:"",class:"input-width"},null,8,["modelValue"])]),_:1})):t("",!0),e(d).orderType=="takeout"?(r(),i(s,{key:2,label:"\u5730\u5740",prop:"orderType"},{default:a(()=>[c("span",null,u(e(d).realName)+u(e(d).userPhone)+u(e(d).userAddress),1)]),_:1})):t("",!0),e(d).orderType=="takeout"?(r(),i(s,{key:3,label:"\u914D\u9001\u516C\u53F8",prop:"orderType"},{default:a(()=>[c("span",null,u(e(d).expressName?e(d).expressName:"\u5546\u5BB6\u81EA\u914D\u9001"),1)]),_:1})):t("",!0),e(d).orderType=="takeout"&&e(d).sameCityTaskId!=""?(r(),i(s,{key:4,label:"\u914D\u9001\u5458",prop:"orderType"},{default:a(()=>[c("span",null,u(e(d).sameCityDeliveryCourierName?e(d).sameCityDeliveryCourierName:"--"),1)]),_:1})):t("",!0),e(d).orderType=="takeout"&&e(d).sameCityTaskId!=""?(r(),i(s,{key:5,label:"\u914D\u9001\u5458\u7535\u8BDD",prop:"orderType"},{default:a(()=>[c("span",null,u(e(d).sameCityDeliveryCourierMobile?e(d).sameCityDeliveryCourierMobile:"--"),1)]),_:1})):t("",!0),e(d).orderType=="takeout"&&e(d).sameCityTaskId!=""?(r(),i(s,{key:6,label:"\u914D\u9001\u72B6\u6001",prop:"orderType"},{default:a(()=>[c("span",null,u(e(d).sameCityDeliveryStatusDes?e(d).sameCityDeliveryStatusDes:"--"),1)]),_:1})):t("",!0)]),_:1},8,["model","rules"])),[[w,e(p)]])]),_:1},8,["title","modelValue"])}}}),[["__scopeId","data-v-73c42019"]]);export{L as default};
