import{d as O,z as q,e as A,r as u,A as B,f as J,R as M,c as n,o as s,h as e,w as l,B as j,a as t,C as E,S as G,T as H,D as L,K as Q,M as W,l as _,N as X,O as x,J as C,n as Y,p as Z,P as $,F as ee}from"./index-QQaZ7rbf.js";import{_ as ae}from"./index.vue_vue_type_script_setup_true_lang-CtP16Cnh.js";import{_ as le}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CerucUbi.js";import{d as te}from"./formatTime-esrXlwGe.js";import{_ as oe,g as se,d as re}from"./StoreRevenueForm.vue_vue_type_script_setup_true_lang-IkZWWaZ5.js";import"./index-BctfKmg_.js";import"./index-D_95hI5s.js";import"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";const pe={key:0},ne={key:1},ie={key:0},ue={key:1},de={key:0},me={key:1},ce=O({__name:"index",setup(fe){const g=q(),{t:S}=A(),d=u(!0),b=u(0),h=u([]),o=B({pageNo:1,pageSize:10,shopId:null,shopName:null,type:null,amount:null,uid:null,createTime:[]}),k=u(),i=async()=>{d.value=!0;try{const c=await se(o);h.value=c.list,b.value=c.total}finally{d.value=!1}},m=()=>{o.pageNo=1,i()},V=()=>{k.value.resetFields(),m()},F=u();return J(()=>{i()}),(c,r)=>{const T=G,f=E,w=Q,z=L,N=X,y=W,R=j,v=le,p=Z,U=Y,P=ae,D=M("hasPermi"),I=$;return s(),n(ee,null,[e(v,null,{default:l(()=>[e(R,{class:"-mb-15px",model:t(o),ref_key:"queryFormRef",ref:k,inline:!0,"label-width":"68px"},{default:l(()=>[e(f,{label:"\u5E97\u94FA\u540D\u79F0",prop:"shopName"},{default:l(()=>[e(T,{modelValue:t(o).shopName,"onUpdate:modelValue":r[0]||(r[0]=a=>t(o).shopName=a),placeholder:"\u8BF7\u8F93\u5165\u5E97\u94FA\u540D\u79F0",clearable:"",onKeyup:H(m,["enter"]),class:"!w-240px"},null,8,["modelValue"])]),_:1}),e(f,{label:"\u7C7B\u578B",prop:"type"},{default:l(()=>[e(z,{modelValue:t(o).type,"onUpdate:modelValue":r[1]||(r[1]=a=>t(o).type=a),placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",clearable:"",class:"!w-240px"},{default:l(()=>[e(w,{label:"\u6536\u5165",value:"1"}),e(w,{label:"\u652F\u51FA",value:"12"})]),_:1},8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(y,{onClick:m},{default:l(()=>[e(N,{icon:"ep:search",class:"mr-5px"}),_(" \u641C\u7D22")]),_:1}),e(y,{onClick:V},{default:l(()=>[e(N,{icon:"ep:refresh",class:"mr-5px"}),_(" \u91CD\u7F6E")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(v,null,{default:l(()=>[x((s(),C(U,{data:t(h)},{default:l(()=>[e(p,{label:"ID",align:"center",prop:"id"}),e(p,{label:"\u5E97\u94FA\u540D\u79F0",align:"center",prop:"shopName"}),e(p,{label:"\u7C7B\u578B",align:"center",prop:"type"},{default:l(a=>[a.row.type==1?(s(),n("span",pe,"\u6536\u5165")):(s(),n("span",ne,"\u652F\u51FA"))]),_:1}),e(p,{label:"\u7ED3\u7B97\u72B6\u6001",align:"center",prop:"isFinish"},{default:l(a=>[a.row.isFinish==1?(s(),n("span",ie,"\u5DF2\u7ED3\u7B97")):(s(),n("span",ue,"\u5F85\u7ED3\u7B97"))]),_:1}),e(p,{label:"\u7ED3\u7B97\u72B6\u6001",align:"center",prop:"orderType"},{default:l(a=>[a.row.orderType=="order"?(s(),n("span",de,"\u666E\u901A\u8BA2\u5355")):(s(),n("span",me,"\u63D0\u73B0\u8BA2\u5355"))]),_:1}),e(p,{label:"\u91D1\u989D",align:"center",prop:"amount"}),e(p,{label:"\u6DFB\u52A0\u65F6\u95F4",align:"center",prop:"createTime",formatter:t(te)},null,8,["formatter"]),e(p,{label:"\u64CD\u4F5C",align:"center"},{default:l(a=>[x((s(),C(y,{link:"",type:"danger",onClick:ye=>(async K=>{try{await g.delConfirm(),await re(K),g.success(S("common.delSuccess")),await i()}catch{}})(a.row.id)},{default:l(()=>[_(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[D,["mall:store-revenue:delete"]]])]),_:1})]),_:1},8,["data"])),[[I,t(d)]]),e(P,{total:t(b),page:t(o).pageNo,"onUpdate:page":r[2]||(r[2]=a=>t(o).pageNo=a),limit:t(o).pageSize,"onUpdate:limit":r[3]||(r[3]=a=>t(o).pageSize=a),onPagination:i},null,8,["total","page","limit"])]),_:1}),e(oe,{ref_key:"formRef",ref:F,onSuccess:i},null,512)],64)}}});export{ce as default};
