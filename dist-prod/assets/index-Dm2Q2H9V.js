import{d as B,z as F,r as m,A as J,R as O,c as Q,o as _,h as e,w as t,B as R,C as T,a,v as X,x,y as q,O as S,J as w,l as d,m as E,N as G,M as H,F as W,bQ as K}from"./index-QQaZ7rbf.js";import{_ as L}from"./index.vue_vue_type_script_setup_true_lang-CtP16Cnh.js";import{_ as Y}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CerucUbi.js";import{_ as Z}from"./main.vue_vue_type_script_setup_true_lang-CdYlBeNF.js";import $ from"./ImageTable-DqQ1-qJ2.js";import{_ as aa}from"./VoiceTable.vue_vue_type_script_setup_true_lang-DPn87p1V.js";import{_ as ea}from"./VideoTable.vue_vue_type_script_setup_true_lang-B7lVM0EX.js";import C from"./UploadFile-BgYGnoL6.js";import{_ as la}from"./UploadVideo.vue_vue_type_script_setup_true_lang-DYPjMZr7.js";import"./upload-CK0X11ck.js";import{g as ta,d as oa}from"./index-BvM_QHiW.js";import{U as u}from"./useUpload-uA0mAQ_g.js";import"./index-BctfKmg_.js";import"./index-D_95hI5s.js";import"./index-CKlW-SbG.js";import"./main-CZZklA9W.js";import"./formatTime-esrXlwGe.js";import"./main.vue_vue_type_script_setup_true_lang-CtNEQeQ-.js";const ia=B({__name:"index",setup(pa){const I=F(),f=m(u.Image),s=m(!1),r=m([]),g=m(0),v=m(-1);K("accountId",v);const o=J({pageNo:1,pageSize:10,accountId:v,permanent:!0}),c=m(!1),D=p=>{v.value=p,o.accountId=p,o.pageNo=1,n()},n=async()=>{s.value=!0;try{const p=await ta({...o,type:f.value});r.value=p.list,g.value=p.total}finally{s.value=!1}},M=()=>{r.value=[],g.value=0,o.pageNo=1,n()},y=async p=>{await I.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u8BE5\u6587\u4EF6, \u662F\u5426\u7EE7\u7EED?"),await oa(p),I.alertSuccess("\u5220\u9664\u6210\u529F")};return(p,l)=>{const P=T,j=R,h=Y,U=G,N=E,b=L,V=q,k=H,A=X,z=O("hasPermi");return _(),Q(W,null,[e(h,null,{default:t(()=>[e(j,{class:"-mb-15px",inline:!0,"label-width":"68px"},{default:t(()=>[e(P,{label:"\u516C\u4F17\u53F7",prop:"accountId"},{default:t(()=>[e(a(Z),{onChange:D})]),_:1})]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(A,{modelValue:a(f),"onUpdate:modelValue":l[8]||(l[8]=i=>x(f)?f.value=i:null),onTabChange:M},{default:t(()=>[e(V,{name:a(u).Image},{label:t(()=>[e(N,{align:"middle"},{default:t(()=>[e(U,{icon:"ep:picture"}),d("\u56FE\u7247 ")]),_:1})]),default:t(()=>[S((_(),w(C,{type:a(u).Image,onUploaded:n},{default:t(()=>[d(" \u652F\u6301 bmp/png/jpeg/jpg/gif \u683C\u5F0F\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC7 2M ")]),_:1},8,["type"])),[[z,["mp:material:upload-permanent"]]]),e($,{loading:a(s),list:a(r),onDelete:y},null,8,["loading","list"]),e(b,{total:a(g),page:a(o).pageNo,"onUpdate:page":l[0]||(l[0]=i=>a(o).pageNo=i),limit:a(o).pageSize,"onUpdate:limit":l[1]||(l[1]=i=>a(o).pageSize=i),onPagination:n},null,8,["total","page","limit"])]),_:1},8,["name"]),e(V,{name:a(u).Voice},{label:t(()=>[e(N,{align:"middle"},{default:t(()=>[e(U,{icon:"ep:microphone"}),d("\u8BED\u97F3 ")]),_:1})]),default:t(()=>[S((_(),w(C,{type:a(u).Voice,onUploaded:n},{default:t(()=>[d(" \u683C\u5F0F\u652F\u6301 mp3/wma/wav/amr\uFF0C\u6587\u4EF6\u5927\u5C0F\u4E0D\u8D85\u8FC7 2M\uFF0C\u64AD\u653E\u957F\u5EA6\u4E0D\u8D85\u8FC7 60s ")]),_:1},8,["type"])),[[z,["mp:material:upload-permanent"]]]),e(aa,{list:a(r),loading:a(s),onDelete:y},null,8,["list","loading"]),e(b,{total:a(g),page:a(o).pageNo,"onUpdate:page":l[2]||(l[2]=i=>a(o).pageNo=i),limit:a(o).pageSize,"onUpdate:limit":l[3]||(l[3]=i=>a(o).pageSize=i),onPagination:n},null,8,["total","page","limit"])]),_:1},8,["name"]),e(V,{name:a(u).Video},{label:t(()=>[e(N,{align:"middle"},{default:t(()=>[e(U,{icon:"ep:video-play"}),d(" \u89C6\u9891 ")]),_:1})]),default:t(()=>[S((_(),w(k,{type:"primary",plain:"",onClick:l[4]||(l[4]=i=>c.value=!0)},{default:t(()=>[d("\u65B0\u5EFA\u89C6\u9891")]),_:1})),[[z,["mp:material:upload-permanent"]]]),e(la,{modelValue:a(c),"onUpdate:modelValue":l[5]||(l[5]=i=>x(c)?c.value=i:null)},null,8,["modelValue"]),e(ea,{list:a(r),loading:a(s),onDelete:y},null,8,["list","loading"]),e(b,{total:a(g),page:a(o).pageNo,"onUpdate:page":l[6]||(l[6]=i=>a(o).pageNo=i),limit:a(o).pageSize,"onUpdate:limit":l[7]||(l[7]=i=>a(o).pageSize=i),onPagination:n},null,8,["total","page","limit"])]),_:1},8,["name"])]),_:1},8,["modelValue"])]),_:1})],64)}}});export{ia as default};
