import{d as A,z as J,e as U,r as f,J as n,o as u,w as a,g as i,i as o,h as d,a as e,l as s,t,c as p,F as D,G as C,j as B,k as H,M as K,x as Q,q as W,s as X,_ as Y}from"./index-QQaZ7rbf.js";import{E as Z}from"./el-drawer-PTxXA9Gz.js";import{E as $,a as ee}from"./el-timeline-item-CFJSbWRQ.js";import{E as le}from"./el-image-DHi7RmhO.js";import{E as ae}from"./el-avatar-Bk2V5BPv.js";import{E as te,a as se}from"./el-descriptions-item-BBtnvGnE.js";import{b as re,c as de}from"./index-AwhozRCE.js";import{f as g}from"./formatTime-esrXlwGe.js";const T=k=>(W("data-v-4ad86217"),k=k(),X(),k),ue=T(()=>i("div",{class:"mylabel"}," \u83DC\u54C1\u660E\u7EC6 ",-1)),ie={class:"flex align-center"},ne={class:"flex flex-1 justify-between font-size-sm text-color-assist"},oe={class:"flex flex-column ml-2"},pe={style:{}},ye={style:{color:"#9acafc","font-weight":"bold"}},fe={style:{color:"#5ac725"}},me={class:"flex flex-1 flex-column ml-2 font-size-sm"},ce={class:"flex justify-between"},be={class:"font-weight-bolder"},_e={style:{color:"#f56c6c"}},ke={class:"flex justify-between mt-1"},ve={width:"100%"},xe=T(()=>i("tr",{style:{"font-weight":"bold",height:"50px"}},[i("td",null,"\u56FE\u7247"),i("td",null,"\u540D\u79F0"),i("td",null,"\u4EF7\u683C"),i("td",null,"\u6570\u91CF")],-1)),ge=T(()=>i("td",null,"\uFFE50.00",-1)),Te=T(()=>i("td",null,"x 1",-1)),he={key:0},De={key:1},Ce={key:2},Oe={key:0},we={key:0},Pe={key:1},Ie={key:2},Ne={key:3},Ve={key:1},Ee={style:{"margin-top":"50px","text-align":"center"}},Se=Y(A({__name:"OrderDetail",setup(k,{expose:I}){const N=J(),{t:V}=U(),O=f(""),v=f(!1),l=f({}),w=f(""),E=f({}),S=f([]),z=f(0);return I({open:async(h,m)=>{v.value=!0,O.value=V("action."+h),l.value=await re(m),w.value=l.value.userRespVO?l.value.userRespVO.nickname:"--",S.value=l.value.storeOrderCartInfoDOList,l.value.storeOrderCartInfoDOList.length>0&&(z.value=l.value.storeOrderCartInfoDOList[l.value.storeOrderCartInfoDOList.length-1].addProductMark)}}),(h,m)=>{const r=se,c=te,j=ae,L=B,P=le,x=H,M=ee,F=$,G=K,R=Z;return u(),n(R,{modelValue:e(v),"onUpdate:modelValue":m[1]||(m[1]=y=>Q(v)?v.value=y:null),title:e(O),size:"40%"},{default:a(()=>[i("div",null,[e(l).orderType=="takeout"?(u(),n(c,{key:0,title:"\u6536\u8D27\u4FE1\u606F",column:2},{default:a(()=>[d(r,{label:"\u7528\u6237\u6635\u79F0"},{default:a(()=>[s(t(e(w)),1)]),_:1}),d(r,{label:"\u6536\u8D27\u4EBA"},{default:a(()=>[s(t(e(l).realName),1)]),_:1}),d(r,{label:"\u8054\u7CFB\u7535\u8BDD"},{default:a(()=>[s(t(e(l).userPhone),1)]),_:1}),d(r,{label:"\u6536\u8D27\u5730\u5740"},{default:a(()=>[s(t(e(l).userAddress),1)]),_:1})]),_:1})):o("",!0),e(l).orderType=="takeout"?(u(),n(c,{key:1,title:"\u914D\u9001\u4FE1\u606F",column:2},{default:a(()=>[d(r,{label:"\u914D\u9001\u516C\u53F8"},{default:a(()=>[s(t(e(l).expressName?e(l).expressName:"\u5546\u5BB6\u81EA\u914D\u9001"),1)]),_:1}),d(r,{label:"\u914D\u9001\u5355\u53F7"},{default:a(()=>[s(t(e(l).deliveryId?e(l).deliveryId:"--"),1)]),_:1}),d(r,{label:"\u914D\u9001\u8D39\u7528"},{default:a(()=>[s(t(e(l).freightPrice?e(l).freightPrice:"--"),1)]),_:1}),d(r,{label:"\u914D\u9001\u5458"},{default:a(()=>[s(t(e(l).sameCityDeliveryCourierName?e(l).sameCityDeliveryCourierName:"--"),1)]),_:1}),d(r,{label:"\u914D\u9001\u5458\u7535\u8BDD"},{default:a(()=>[s(t(e(l).sameCityDeliveryCourierMobile?e(l).sameCityDeliveryCourierMobile:"--"),1)]),_:1}),d(r,{label:"\u914D\u9001\u72B6\u6001"},{default:a(()=>[s(t(e(l).sameCityDeliveryStatusDes?e(l).sameCityDeliveryStatusDes:"--"),1)]),_:1}),d(r,{label:"\u914D\u9001\u65F6\u95F4"},{default:a(()=>[s(t(e(l).sameCityDeliveryTime?e(l).sameCityDeliveryTime:"--"),1)]),_:1}),d(r,{label:"\u9001\u8FBE\u65F6\u95F4"},{default:a(()=>[s(t(e(l).sameCityDeliveryExpectFinishTime?e(l).sameCityDeliveryExpectFinishTime:"--"),1)]),_:1})]),_:1})):o("",!0),e(l).orderType!="due"?(u(),n(c,{key:2,title:"",column:1},{default:a(()=>[d(r,null,{label:a(()=>[ue]),default:a(()=>[i("div",null,[(u(!0),p(D,null,C(e(l).appDeskOrderVo,(y,b)=>(u(),p("div",{style:{background:"linear-gradient(to bottom, #e9f1ee, #fcfcf4)",padding:"20px 30px",margin:"10px 0","border-radius":"20px"},key:b},[i("div",ie,[i("div",null,[d(j,{size:50,src:y.uavatar},null,8,["src"])]),i("div",ne,[i("div",oe,[i("span",null,t(y.unickname),1),i("span",null,t(e(g)(y.addTime)),1)]),i("div",pe,[i("span",ye,t(y.uidType=="user"?"\u7528\u6237\u70B9\u9910":"\u5458\u5DE5\u5E2E\u70B9"),1),i("span",fe,"("+t(y.isOrder==0?"\u672A\u51FA\u9910":"\u5DF2\u51FA\u9910")+")",1)])])]),d(L),(u(!0),p(D,null,C(y.appDeskOrderGoodsVos,(_,q)=>(u(),p("div",{class:"flex align-center",key:q},[i("div",null,[d(P,{src:_.image,style:{width:"70px",height:"70px"}},null,8,["src"])]),i("div",me,[i("div",ce,[i("span",be,t(_.title),1),i("span",_e,t(_.spec),1)]),i("div",ke,[i("span",null,"\xA5"+t(_.price),1),i("span",null,"x"+t(_.number),1)])])]))),128))]))),128))])]),_:1})]),_:1})):(u(),n(c,{key:3,title:"\u5546\u54C1\u660E\u7EC6",column:1},{default:a(()=>[d(r,{label:"\u9884\u7EA6\u684C\u9762"},{default:a(()=>[i("table",ve,[xe,i("tr",null,[i("td",null,[d(P,{style:{width:"40px",height:"40px"},src:e(l).shopDeskDO.image,fit:h.fit},null,8,["src","fit"])]),i("td",null,t(e(l).shopDeskDO.title),1),ge,Te])])]),_:1})]),_:1})),d(c,{title:"\u8BA2\u5355\u4FE1\u606F",column:2},{title:a(()=>[s(" \u8BA2\u5355\u4FE1\u606F "),e(l).orderType=="desk"?(u(),n(x,{key:0,type:"danger"},{default:a(()=>[s("\u5802\u98DF")]),_:1})):o("",!0),e(l).orderType=="takeout"?(u(),n(x,{key:1,type:"danger"},{default:a(()=>[s("\u5916\u5356")]),_:1})):o("",!0),e(l).orderType=="takein"?(u(),n(x,{key:2,type:"danger"},{default:a(()=>[s("\u81EA\u53D6")]),_:1})):o("",!0),e(l).orderType=="due"?(u(),n(x,{key:3,type:"danger"},{default:a(()=>[s("\u9884\u7EA6")]),_:1})):o("",!0)]),default:a(()=>[d(r,{label:"\u95E8\u5E97"},{default:a(()=>[s(t(e(l).shopName),1)]),_:1}),e(l).orderType!="due"?(u(),n(r,{key:0,label:"\u53D6\u9910\u53F7"},{default:a(()=>[s(t(e(l).numberId),1)]),_:1})):o("",!0),d(r,{label:"\u684C\u4F4D\u53F7"},{default:a(()=>[s(t(e(l).deskNumber?e(l).deskNumber:"\u65E0"),1)]),_:1}),e(l).orderType!="due"?(u(),n(r,{key:1,label:"\u5C31\u9910\u4EBA\u6570"},{default:a(()=>[s(t(e(l).deskPeople?e(l).deskPeople:"\u65E0"),1)]),_:1})):o("",!0),d(r,{label:"\u8BA2\u5355\u53F7"},{default:a(()=>[s(t(e(l).orderId),1)]),_:1}),e(l).orderType=="due"?(u(),n(r,{key:2,label:"\u9884\u7EA6\u65F6\u95F4"},{default:a(()=>[s(t(e(g)(e(l).dueTime)),1)]),_:1})):o("",!0),e(l).orderType=="due"?(u(),n(r,{key:3,label:"\u5230\u5E97\u65F6\u95F4"},{default:a(()=>[s(t(e(l).reachTime),1)]),_:1})):o("",!0),e(l).orderType=="due"?(u(),n(r,{key:4,label:"\u9884\u7EA6\u4EBA"},{default:a(()=>[s(t(e(l).realName),1)]),_:1})):o("",!0),e(l).orderType=="due"?(u(),n(r,{key:5,label:"\u9884\u7EA6\u9884\u7559\u7535\u8BDD"},{default:a(()=>[s(t(e(l).userPhone),1)]),_:1})):o("",!0),e(l).orderType!="due"?(u(),n(r,{key:6,label:"\u8BA2\u5355\u72B6\u6001"},{default:a(()=>[s(t(e(l).statusStr),1)]),_:1})):o("",!0),e(l).orderType=="due"?(u(),n(r,{key:7,label:"\u9884\u7EA6\u72B6\u6001"},{default:a(()=>[e(l).dueStatus==1?(u(),p("span",he,"\u9884\u7EA6\u4E2D")):e(l).dueStatus==2?(u(),p("span",De,"\u5DF2\u53D6\u6D88")):(u(),p("span",Ce,"\u5DF2\u5B8C\u6210"))]),_:1})):o("",!0),d(r,{label:"\u5546\u54C1\u603B\u6570"},{default:a(()=>[s(t(e(l).totalNum),1)]),_:1}),d(r,{label:"\u5546\u54C1\u603B\u4EF7"},{default:a(()=>[s(t(e(l).totalPrice),1)]),_:1}),d(r,{label:"\u652F\u4ED8\u8FD0\u8D39"},{default:a(()=>[s(t(e(l).freightPrice),1)]),_:1}),d(r,{label:"\u4F18\u60E0\u5238\u91D1\u989D"},{default:a(()=>[s(t(e(l).couponPrice),1)]),_:1}),d(r,{label:"\u79EF\u5206\u62B5\u6263"},{default:a(()=>[s(t(e(l).useIntegral),1)]),_:1}),d(r,{label:"\u5B9E\u9645\u652F\u4ED8"},{default:a(()=>[s(t(e(l).payPrice),1)]),_:1}),d(r,{label:"\u8D60\u9001\u79EF\u5206"},{default:a(()=>[s(t(e(l).gainIntegral),1)]),_:1}),d(r,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:a(()=>[s(t(e(g)(e(l).createTime)),1)]),_:1}),d(r,{label:"\u652F\u4ED8\u65F6\u95F4"},{default:a(()=>[s(t(e(g)(e(l).payTime)),1)]),_:1}),d(r,{label:"\u652F\u4ED8\u65B9\u5F0F"},{default:a(()=>[e(l).paid==1?(u(),p("span",Oe,[e(l).payType=="yue"?(u(),p("span",we,"\u4F59\u989D\u652F\u4ED8")):o("",!0),e(l).payType=="weixin"?(u(),p("span",Pe,"\u5FAE\u4FE1\u652F\u4ED8")):o("",!0),e(l).payType=="alipay"?(u(),p("span",Ie,"\u652F\u4ED8\u5B9D\u652F\u4ED8")):o("",!0),e(l).payType=="cash"?(u(),p("span",Ne,"\u73B0\u91D1\u652F\u4ED8")):o("",!0)])):(u(),p("span",Ve,"--"))]),_:1})]),_:1}),d(F,null,{default:a(()=>[(u(!0),p(D,null,C(e(E),(y,b)=>(u(),n(M,{key:b,timestamp:y.acceptTime},{default:a(()=>[s(t(y.acceptStation),1)]),_:2},1032,["timestamp"]))),128))]),_:1}),i("div",Ee,[d(G,{type:"danger",onClick:m[0]||(m[0]=y=>(async b=>{try{await de(b),N.success("\u5DF2\u53D1\u9001\u6253\u5370")}catch{}})(e(l).id))},{default:a(()=>[s("\u6253\u5370\u5C0F\u7968")]),_:1})])])]),_:1},8,["modelValue","title"])}}}),[["__scopeId","data-v-4ad86217"]]);export{Se as default};
