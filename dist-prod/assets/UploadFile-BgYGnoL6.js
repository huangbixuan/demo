import{d as b,z as g,bb as I,r as h,A as v,J as x,o as U,w as o,h as j,M as w,l as z,g as A,ay as E,a as e,ao as F,_ as H}from"./index-QQaZ7rbf.js";import{b as J,a as M,H as S,U as $}from"./upload-CK0X11ck.js";import{U as i}from"./useUpload-uA0mAQ_g.js";const k={class:"el-upload__tip",style:{"margin-left":"5px"}},q=H(b({__name:"UploadFile",props:{type:{}},emits:["uploaded"],setup(l,{emit:d}){const t=g(),p=l,n=I("accountId"),r=h([]),u=d,s=v({type:i.Image,title:"",introduction:"",accountId:n}),c=p.type===i.Image?J:M,m=a=>{if(a.code!==0)return t.alertError("\u4E0A\u4F20\u51FA\u9519\uFF1A"+a.msg),!1;r.value=[],s.title="",s.introduction="",t.notifySuccess("\u4E0A\u4F20\u6210\u529F"),u("uploaded")},f=a=>t.error("\u4E0A\u4F20\u5931\u8D25: "+a.message);return(a,B)=>{const y=w,_=F;return U(),x(_,{action:e($),headers:e(S),multiple:"",limit:1,"file-list":e(r),data:e(s),"on-error":f,"before-upload":e(c),"on-success":m},{tip:o(()=>[A("span",k,[E(a.$slots,"default",{},void 0,!0)])]),default:o(()=>[j(y,{type:"primary",plain:""},{default:o(()=>[z(" \u70B9\u51FB\u4E0A\u4F20 ")]),_:1})]),_:3},8,["action","headers","file-list","data","before-upload"])}}}),[["__scopeId","data-v-bd722126"]]);export{q as default};
