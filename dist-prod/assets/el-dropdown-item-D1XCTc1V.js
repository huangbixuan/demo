import{cC as me,at as ge,b5 as Q,au as M,d as K,ay as D,r as F,bb as y,a4 as E,cD as k,a as _,bQ as N,ax as A,cw as be,as as ee,cE as we,aG as h,J as O,o as x,w as g,h as C,aA as he,bM as Ie,cF as ne,bq as L,aL as ye,c as J,i as V,bL as Ee,az as H,$ as W,cG as Fe,by as Ce,bP as oe,cH as Re,ba as Te,cI as ke,cl as _e,M as te,av as Y,bt as Se,cb as xe,bA as Be,cJ as De,cg as $e,aJ as le,g as Pe,aP as Me,aV as j,F as Ke,cK as re,cL as ae,cM as Le,cN as Ge,cO as Oe,cP as ie,aK as ze,cQ as Ae,cR as He,cS as Ne,cT as Je,cU as Ue,aB as Qe,aC as se}from"./index-QQaZ7rbf.js";const Ve=ge({style:{type:Q([String,Array,Object])},currentTabId:{type:Q(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Q(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:We,ElCollectionItem:Ye,COLLECTION_INJECTION_KEY:q,COLLECTION_ITEM_INJECTION_KEY:je}=me("RovingFocusGroup"),X=Symbol("elRovingFocusGroup"),de=Symbol("elRovingFocusGroupItem"),qe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Z=e=>{const{activeElement:o}=document;for(const c of e)if(c===o||(c.focus(),o!==document.activeElement))return},ue="currentTabIdChange",ce="rovingFocusGroup.entryFocus",Xe={bubbles:!1,cancelable:!0},Ze=K({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Ve,emits:[ue,"entryFocus"],setup(e,{emit:o}){var c;const s=F((c=e.currentTabId||e.defaultCurrentTabId)!=null?c:null),p=F(!1),u=F(!1),a=F(null),{getItems:r}=y(q,void 0),v=E(()=>[{outline:"none"},e.style]),b=k(l=>{var i;(i=e.onMousedown)==null||i.call(e,l)},()=>{u.value=!0}),w=k(l=>{var i;(i=e.onFocus)==null||i.call(e,l)},l=>{const i=!_(u),{target:f,currentTarget:I}=l;if(f===I&&i&&!_(p)){const $=new Event(ce,Xe);if(I==null||I.dispatchEvent($),!$.defaultPrevented){const R=r().filter(m=>m.focusable),S=[R.find(m=>m.active),R.find(m=>m.id===_(s)),...R].filter(Boolean).map(m=>m.ref);Z(S)}}u.value=!1}),t=k(l=>{var i;(i=e.onBlur)==null||i.call(e,l)},()=>{p.value=!1});N(X,{currentTabbedId:be(s),loop:A(e,"loop"),tabIndex:E(()=>_(p)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:v,orientation:A(e,"orientation"),dir:A(e,"dir"),onItemFocus:l=>{o(ue,l)},onItemShiftTab:()=>{p.value=!0},onBlur:t,onFocus:w,onMousedown:b}),ee(()=>e.currentTabId,l=>{s.value=l??null}),we(a,ce,(...l)=>{o("entryFocus",...l)})}});var en=M(K({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:We,ElRovingFocusGroupImpl:M(Ze,[["render",function(e,o,c,s,p,u){return D(e.$slots,"default")}],["__file","roving-focus-group-impl.vue"]])}}),[["render",function(e,o,c,s,p,u){const a=h("el-roving-focus-group-impl"),r=h("el-focus-group-collection");return x(),O(r,null,{default:g(()=>[C(a,he(Ie(e.$attrs)),{default:g(()=>[D(e.$slots,"default")]),_:3},16)]),_:3})}],["__file","roving-focus-group.vue"]]),nn=M(K({components:{ElRovingFocusCollectionItem:Ye},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:c,loop:s,onItemFocus:p,onItemShiftTab:u}=y(X,void 0),{getItems:a}=y(q,void 0),r=ne(),v=F(null),b=k(i=>{o("mousedown",i)},i=>{e.focusable?p(_(r)):i.preventDefault()}),w=k(i=>{o("focus",i)},()=>{p(_(r))}),t=k(i=>{o("keydown",i)},i=>{const{key:f,shiftKey:I,target:$,currentTarget:R}=i;if(f===L.tab&&I)return void u();if($!==R)return;const S=(n=>{const d=n.key;return qe[d]})(i);if(S){i.preventDefault();let n=a().filter(d=>d.focusable).map(d=>d.ref);switch(S){case"last":n.reverse();break;case"prev":case"next":{S==="prev"&&n.reverse();const d=n.indexOf(R);n=s.value?(B=d+1,(m=n).map((T,P)=>m[(P+B)%m.length])):n.slice(d+1);break}}ye(()=>{Z(n)})}var m,B}),l=E(()=>c.value===_(r));return N(de,{rovingFocusGroupItemRef:v,tabIndex:E(()=>_(l)?0:-1),handleMousedown:b,handleFocus:w,handleKeydown:t}),{id:r,handleKeydown:t,handleFocus:w,handleMousedown:b}}}),[["render",function(e,o,c,s,p,u){const a=h("el-roving-focus-collection-item");return x(),O(a,{id:e.id,focusable:e.focusable,active:e.active},{default:g(()=>[D(e.$slots,"default")]),_:3},8,["id","focusable","active"])}],["__file","roving-focus-item.vue"]]);const U=Symbol("elDropdown"),{ButtonGroup:on}=te;var tn=M(K({name:"ElDropdown",components:{ElButton:te,ElButtonGroup:on,ElScrollbar:_e,ElDropdownCollection:ke,ElTooltip:Te,ElRovingFocusGroup:en,ElOnlyChild:Re,ElIcon:oe,ArrowDown:Ce},props:Fe,emits:["visible-change","click","command"],setup(e,{emit:o}){const c=le(),s=Y("dropdown"),{t:p}=Se(),u=F(),a=F(),r=F(null),v=F(null),b=F(null),w=F(null),t=F(!1),l=[L.enter,L.space,L.down],i=E(()=>({maxHeight:xe(e.maxHeight)})),f=E(()=>[s.m(m.value)]),I=E(()=>De(e.trigger)),$=ne().value,R=E(()=>e.id||$);function S(){var n;(n=r.value)==null||n.onClose()}ee([u,I],([n,d],[T])=>{var P,z,G;(P=T==null?void 0:T.$el)!=null&&P.removeEventListener&&T.$el.removeEventListener("pointerenter",B),(z=n==null?void 0:n.$el)!=null&&z.removeEventListener&&n.$el.removeEventListener("pointerenter",B),(G=n==null?void 0:n.$el)!=null&&G.addEventListener&&d.includes("hover")&&n.$el.addEventListener("pointerenter",B)},{immediate:!0}),$e(()=>{var n,d;(d=(n=u.value)==null?void 0:n.$el)!=null&&d.removeEventListener&&u.value.$el.removeEventListener("pointerenter",B)});const m=Be();function B(){var n,d;(d=(n=u.value)==null?void 0:n.$el)==null||d.focus()}return N(U,{contentRef:v,role:E(()=>e.role),triggerId:R,isUsingKeyboard:t,onItemEnter:function(){},onItemLeave:function(){const n=_(v);I.value.includes("hover")&&(n==null||n.focus()),w.value=null}}),N("elDropdown",{instance:c,dropdownSize:m,handleClick:function(){S()},commandHandler:function(...n){o("command",...n)},trigger:A(e,"trigger"),hideOnClick:A(e,"hideOnClick")}),{t:p,ns:s,scrollbar:b,wrapStyle:i,dropdownTriggerKls:f,dropdownSize:m,triggerId:R,triggerKeys:l,currentTabId:w,handleCurrentTabIdChange:function(n){w.value=n},handlerMainButtonClick:n=>{o("click",n)},handleEntryFocus:function(n){t.value||(n.preventDefault(),n.stopImmediatePropagation())},handleClose:S,handleOpen:function(){var n;(n=r.value)==null||n.onOpen()},handleBeforeShowTooltip:function(){o("visible-change",!0)},handleShowTooltip:function(n){(n==null?void 0:n.type)==="keydown"&&v.value.focus()},handleBeforeHideTooltip:function(){o("visible-change",!1)},onFocusAfterTrapped:n=>{var d,T;n.preventDefault(),(T=(d=v.value)==null?void 0:d.focus)==null||T.call(d,{preventScroll:!0})},popperRef:r,contentRef:v,triggeringElementRef:u,referenceElementRef:a}}}),[["render",function(e,o,c,s,p,u){var a;const r=h("el-dropdown-collection"),v=h("el-roving-focus-group"),b=h("el-scrollbar"),w=h("el-only-child"),t=h("el-tooltip"),l=h("el-button"),i=h("arrow-down"),f=h("el-icon"),I=h("el-button-group");return x(),J("div",{class:W([e.ns.b(),e.ns.is("disabled",e.disabled)])},[C(t,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(a=e.referenceElementRef)==null?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Ee({content:g(()=>[C(b,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:g(()=>[C(v,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:g(()=>[C(r,null,{default:g(()=>[D(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:g(()=>[C(w,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:g(()=>[D(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(x(),O(I,{key:0},{default:g(()=>[C(l,H({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:g(()=>[D(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),C(l,H({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:g(()=>[C(f,{class:W(e.ns.e("icon"))},{default:g(()=>[C(i)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):V("v-if",!0)],2)}],["__file","dropdown.vue"]]);const ln=K({name:"DropdownItemImpl",components:{ElIcon:oe},props:re,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const c=Y("dropdown"),{role:s}=y(U,void 0),{collectionItemRef:p}=y(Ge,void 0),{collectionItemRef:u}=y(je,void 0),{rovingFocusGroupItemRef:a,tabIndex:r,handleFocus:v,handleKeydown:b,handleMousedown:w}=y(de,void 0),t=ae(p,u,a),l=E(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),i=k(f=>{const{code:I}=f;if(I===L.enter||I===L.space)return f.preventDefault(),f.stopImmediatePropagation(),o("clickimpl",f),!0},b);return{ns:c,itemRef:t,dataset:{[Le]:""},role:l,tabIndex:r,handleFocus:v,handleKeydown:i,handleMousedown:w}}}),rn=["aria-disabled","tabindex","role"],pe=()=>{const e=y("elDropdown",{}),o=E(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:o}};var ve=M(K({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Oe,ElRovingFocusItem:nn,ElDropdownItemImpl:M(ln,[["render",function(e,o,c,s,p,u){const a=h("el-icon");return x(),J(Ke,null,[e.divided?(x(),J("li",H({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):V("v-if",!0),Pe("li",H({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o[0]||(o[0]=r=>e.$emit("clickimpl",r)),onFocus:o[1]||(o[1]=(...r)=>e.handleFocus&&e.handleFocus(...r)),onKeydown:o[2]||(o[2]=j((...r)=>e.handleKeydown&&e.handleKeydown(...r),["self"])),onMousedown:o[3]||(o[3]=(...r)=>e.handleMousedown&&e.handleMousedown(...r)),onPointermove:o[4]||(o[4]=r=>e.$emit("pointermove",r)),onPointerleave:o[5]||(o[5]=r=>e.$emit("pointerleave",r))}),[e.icon?(x(),O(a,{key:0},{default:g(()=>[(x(),O(Me(e.icon)))]),_:1})):V("v-if",!0),D(e.$slots,"default")],16,rn)],64)}],["__file","dropdown-item-impl.vue"]])},inheritAttrs:!1,props:re,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:c}){const{elDropdown:s}=pe(),p=le(),u=F(null),a=E(()=>{var t,l;return(l=(t=_(u))==null?void 0:t.textContent)!=null?l:""}),{onItemEnter:r,onItemLeave:v}=y(U,void 0),b=k(t=>(o("pointermove",t),t.defaultPrevented),ie(t=>{if(e.disabled)return void v(t);const l=t.currentTarget;l===document.activeElement||l.contains(document.activeElement)||(r(t),t.defaultPrevented||l==null||l.focus())})),w=k(t=>(o("pointerleave",t),t.defaultPrevented),ie(t=>{v(t)}));return{handleClick:k(t=>{if(!e.disabled)return o("click",t),t.type!=="keydown"&&t.defaultPrevented},t=>{var l,i,f;e.disabled?t.stopImmediatePropagation():((l=s==null?void 0:s.hideOnClick)!=null&&l.value&&((i=s.handleClick)==null||i.call(s)),(f=s.commandHandler)==null||f.call(s,e.command,p,t))}),handlePointerMove:b,handlePointerLeave:w,textContent:a,propsAndAttrs:E(()=>({...e,...c}))}}}),[["render",function(e,o,c,s,p,u){var a;const r=h("el-dropdown-item-impl"),v=h("el-roving-focus-item"),b=h("el-dropdown-collection-item");return x(),O(b,{disabled:e.disabled,"text-value":(a=e.textValue)!=null?a:e.textContent},{default:g(()=>[C(v,{focusable:!e.disabled},{default:g(()=>[C(r,H(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:g(()=>[D(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}],["__file","dropdown-item.vue"]]);const an=K({name:"ElDropdownMenu",props:Ae,setup(e){const o=Y("dropdown"),{_elDropdownSize:c}=pe(),s=c.value,{focusTrapRef:p,onKeydown:u}=y(He,void 0),{contentRef:a,role:r,triggerId:v}=y(U,void 0),{collectionRef:b,getItems:w}=y(Ne,void 0),{rovingFocusGroupRef:t,rovingFocusGroupRootStyle:l,tabIndex:i,onBlur:f,onFocus:I,onMousedown:$}=y(X,void 0),{collectionRef:R}=y(q,void 0),S=E(()=>[o.b("menu"),o.bm("menu",s==null?void 0:s.value)]),m=ae(a,b,p,t,R),B=k(n=>{var d;(d=e.onKeydown)==null||d.call(e,n)},n=>{const{currentTarget:d,code:T,target:P}=n;if(d.contains(P),L.tab===T&&n.stopImmediatePropagation(),n.preventDefault(),P!==_(a)||!Je.includes(T))return;const z=w().filter(G=>!G.disabled).map(G=>G.ref);Ue.includes(T)&&z.reverse(),Z(z)});return{size:s,rovingFocusGroupRootStyle:l,tabIndex:i,dropdownKls:S,role:r,triggerId:v,dropdownListWrapperRef:m,handleKeydown:n=>{B(n),u(n)},onBlur:f,onFocus:I,onMousedown:$}}}),sn=["role","aria-labelledby"];var fe=M(an,[["render",function(e,o,c,s,p,u){return x(),J("ul",{ref:e.dropdownListWrapperRef,class:W(e.dropdownKls),style:ze(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:o[0]||(o[0]=(...a)=>e.onBlur&&e.onBlur(...a)),onFocus:o[1]||(o[1]=(...a)=>e.onFocus&&e.onFocus(...a)),onKeydown:o[2]||(o[2]=j((...a)=>e.handleKeydown&&e.handleKeydown(...a),["self"])),onMousedown:o[3]||(o[3]=j((...a)=>e.onMousedown&&e.onMousedown(...a),["self"]))},[D(e.$slots,"default")],46,sn)}],["__file","dropdown-menu.vue"]]);const dn=Qe(tn,{DropdownItem:ve,DropdownMenu:fe}),un=se(ve),cn=se(fe);export{dn as E,cn as a,un as b};
