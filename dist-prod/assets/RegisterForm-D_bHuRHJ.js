import{_ as k}from"./Form-D4EiUnE1.js";import{_ as y}from"./XButton-C609XjEW.js";import{d as _,e as R,a4 as I,a as o,A as V,r as x,O as F,a7 as L,J as C,o as E,w as n,g as d,h as t,S}from"./index-QQaZ7rbf.js";import{u as U}from"./useForm-PWYayWvW.js";import{u as q}from"./useValidator-B6P6KU-p.js";import{u as B,L as j,_ as z}from"./LoginFormTitle.vue_vue_type_script_setup_true_lang-C5h-lCN8.js";import"./Form.vue_vue_type_style_index_0_scoped_348f152a_lang-CNNP2i3c.js";import"./el-virtual-list-DFe9KZ20.js";import"./el-tree-select-BtYVvkSk.js";import"./InputPassword-DkllGsTQ.js";const A={class:"w-[100%] flex"},G={class:"w-[100%]"},J={class:"mt-15px w-[100%]"},O=_({name:"RegisterForm",__name:"RegisterForm",setup(T){const{t:e}=R(),{required:a}=q(),{register:c,elFormRef:m}=U(),{handleBackLogin:u,getLoginState:g}=B(),h=I(()=>o(g)===j.REGISTER),w=V([{field:"title",colProps:{span:24}},{field:"username",label:e("login.username"),value:"",component:"Input",colProps:{span:24},componentProps:{placeholder:e("login.usernamePlaceholder")}},{field:"password",label:e("login.password"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:e("login.passwordPlaceholder")}},{field:"check_password",label:e("login.checkPassword"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:e("login.passwordPlaceholder")}},{field:"code",label:e("login.code"),colProps:{span:24}},{field:"register",colProps:{span:24}}]),f={username:[a()],password:[a()],check_password:[a()],code:[a()]},i=x(!1);return(D,l)=>{const P=S,p=y,v=k;return F((E(),C(v,{rules:f,schema:o(w),class:"dark:(border-1 border-[var(--el-border-color)] border-solid)","hide-required-asterisk":"","label-position":"top",size:"large",onRegister:o(c)},{title:n(()=>[t(z,{style:{width:"100%"}})]),code:n(r=>[d("div",A,[t(P,{modelValue:r.code,"onUpdate:modelValue":s=>r.code=s,placeholder:o(e)("login.codePlaceholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"])])]),register:n(()=>[d("div",G,[t(p,{loading:o(i),title:o(e)("login.register"),class:"w-[100%]",type:"primary",onClick:l[0]||(l[0]=r=>(async()=>{const s=o(m);s==null||s.validate(async b=>{if(b)try{i.value=!0}finally{i.value=!1}})})())},null,8,["loading","title"])]),d("div",J,[t(p,{title:o(e)("login.hasUser"),class:"w-[100%]",onClick:l[1]||(l[1]=r=>o(u)())},null,8,["title"])])]),_:1},8,["schema","onRegister"])),[[L,o(h)]])}}});export{O as default};
