import{d as z,z as B,e as F,r as p,f as I,R as J,c as M,o as t,h as a,w as e,B as O,C as T,O as s,J as i,M as j,l as f,N as K,n as N,a as m,p as q,P as A,F as E}from"./index-QQaZ7rbf.js";import{_ as G}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CerucUbi.js";import{d as H}from"./formatTime-esrXlwGe.js";import{g as L,d as Q}from"./index-B6q6muef.js";import{_ as U}from"./DataSourceConfigForm.vue_vue_type_script_setup_true_lang-BtX71-UY.js";import"./index-D_95hI5s.js";import"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";const V=z({name:"InfraDataSourceConfig",__name:"index",setup(W){const _=B(),{t:C}=F(),o=p(!0),g=p([]),c=async()=>{o.value=!0;try{g.value=await L()}finally{o.value=!1}},w=p(),b=(y,n)=>{w.value.open(y,n)};return I(()=>{c()}),(y,n)=>{const h=K,d=j,v=T,x=O,k=G,l=q,S=N,u=J("hasPermi"),D=A;return t(),M(E,null,[a(k,null,{default:e(()=>[a(x,{class:"-mb-15px",inline:!0},{default:e(()=>[a(v,null,{default:e(()=>[s((t(),i(d,{type:"primary",plain:"",onClick:n[0]||(n[0]=r=>b("create"))},{default:e(()=>[a(h,{icon:"ep:plus",class:"mr-5px"}),f(" \u65B0\u589E ")]),_:1})),[[u,["infra:data-source-config:create"]]])]),_:1})]),_:1})]),_:1}),a(k,null,{default:e(()=>[s((t(),i(S,{data:m(g)},{default:e(()=>[a(l,{label:"\u4E3B\u952E\u7F16\u53F7",align:"center",prop:"id"}),a(l,{label:"\u6570\u636E\u6E90\u540D\u79F0",align:"center",prop:"name"}),a(l,{label:"\u6570\u636E\u6E90\u8FDE\u63A5",align:"center",prop:"url","show-overflow-tooltip":!0}),a(l,{label:"\u7528\u6237\u540D",align:"center",prop:"username"}),a(l,{label:"\u521B\u5EFA\u65F6\u95F4",align:"center",prop:"createTime",width:"180",formatter:m(H)},null,8,["formatter"]),a(l,{label:"\u64CD\u4F5C",align:"center"},{default:e(r=>[s((t(),i(d,{link:"",type:"primary",onClick:P=>b("update",r.row.id),disabled:r.row.id===0},{default:e(()=>[f(" \u7F16\u8F91 ")]),_:2},1032,["onClick","disabled"])),[[u,["infra:data-source-config:update"]]]),s((t(),i(d,{link:"",type:"danger",onClick:P=>(async R=>{try{await _.delConfirm(),await Q(R),_.success(C("common.delSuccess")),await c()}catch{}})(r.row.id),disabled:r.row.id===0},{default:e(()=>[f(" \u5220\u9664 ")]),_:2},1032,["onClick","disabled"])),[[u,["infra:data-source-config:delete"]]])]),_:1})]),_:1},8,["data"])),[[D,m(o)]])]),_:1}),a(U,{ref_key:"formRef",ref:w,onSuccess:c},null,512)],64)}}});export{V as default};
