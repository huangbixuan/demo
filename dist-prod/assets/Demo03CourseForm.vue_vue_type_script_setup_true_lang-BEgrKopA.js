import{d as C,r as m,A as $,as as U,c as q,o as g,F as D,O as j,h as e,P as F,a as r,J as A,B,w as a,n as J,p as M,C as O,S as P,M as R,l as x,m as S}from"./index-QQaZ7rbf.js";import{a as z}from"./index-BfrxEgj1.js";const E=C({__name:"Demo03CourseForm",props:{studentId:{}},setup(b,{expose:h}){const p=b,n=m(!1),l=m([]),i=$({studentId:[{required:!0,message:"\u5B66\u751F\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],name:[{required:!0,message:"\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],score:[{required:!0,message:"\u5206\u6570\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),c=m();U(()=>p.studentId,async d=>{if(l.value=[],d)try{n.value=!0,l.value=await z(d)}finally{n.value=!1}},{immediate:!0});const w=()=>{const d={id:void 0,studentId:void 0,name:void 0,score:void 0};d.studentId=p.studentId,l.value.push(d)};return h({validate:()=>c.value.validate(),getData:()=>l.value}),(d,G)=>{const u=M,f=P,v=O,_=R,V=J,y=B,I=S,k=F;return g(),q(D,null,[j((g(),A(y,{ref_key:"formRef",ref:c,model:r(l),rules:r(i),"label-width":"0px","inline-message":!0},{default:a(()=>[e(V,{data:r(l),class:"-mt-10px"},{default:a(()=>[e(u,{label:"\u5E8F\u53F7",type:"index",width:"100"}),e(u,{label:"\u540D\u5B57","min-width":"150"},{default:a(({row:s,$index:o})=>[e(v,{prop:`${o}.name`,rules:r(i).name,class:"mb-0px!"},{default:a(()=>[e(f,{modelValue:s.name,"onUpdate:modelValue":t=>s.name=t,placeholder:"\u8BF7\u8F93\u5165\u540D\u5B57"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])]),_:1}),e(u,{label:"\u5206\u6570","min-width":"150"},{default:a(({row:s,$index:o})=>[e(v,{prop:`${o}.score`,rules:r(i).score,class:"mb-0px!"},{default:a(()=>[e(f,{modelValue:s.score,"onUpdate:modelValue":t=>s.score=t,placeholder:"\u8BF7\u8F93\u5165\u5206\u6570"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])]),_:1}),e(u,{align:"center",fixed:"right",label:"\u64CD\u4F5C",width:"60"},{default:a(({$index:s})=>[e(_,{onClick:o=>{return t=s,void l.value.splice(t,1);var t},link:""},{default:a(()=>[x("\u2014")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["model","rules"])),[[k,r(n)]]),e(I,{justify:"center",class:"mt-3"},{default:a(()=>[e(_,{onClick:w,round:""},{default:a(()=>[x("+ \u6DFB\u52A0\u5B66\u751F\u8BFE\u7A0B")]),_:1})]),_:1})],64)}}});export{E as _};
