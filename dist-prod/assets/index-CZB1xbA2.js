import{d as U,z as A,e as D,r as m,A as F,f as I,R as M,c as u,o as i,h as a,w as t,am as O,g as f,O as g,J as y,n as j,a as l,p as q,i as B,M as E,l as z,P as K,F as W}from"./index-QQaZ7rbf.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang-CtP16Cnh.js";import{_ as H}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CerucUbi.js";import{d as L}from"./formatTime-esrXlwGe.js";import{a as Q,d as V}from"./index-BJHtJA0Z.js";import{_ as X}from"./WechatTemplateForm.vue_vue_type_script_setup_true_lang-Ubq6K7Jv.js";import"./index-BctfKmg_.js";import"./index-D_95hI5s.js";import"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";const Y=f("div",null,"1\u3001\u516C\u4F17\u53F7\u9700\u8981\u9009\u62E9\u7C7B\u522B\uFF1A\u751F\u6D3B\u670D\u52A1/\u767E\u8D27/\u8D85\u5E02\u7C7B\u76EE.",-1),Z=f("div",null,"2\u3001\u901A\u77E5\u7BA1\u7406\u5458\u7684\u6D88\u606F\u76EE\u524D\u53EA\u652F\u6301\u5FAE\u4FE1\u516C\u4F17\u53F7\uFF0C\u6240\u4EE5\u8BF7\u52A1\u5FC5\u5F00\u901A\u4E14\u5173\u6CE8\u516C\u4F17\u53F7.",-1),$=f("div",null,"3\u3001\u6A21\u677F\u5185\u5BB9\u56FA\u5B9A\u7533\u8BF7\u6D88\u606F\u6A21\u677F\u65F6\u8BF7\u52A1\u5FC5\u6309\u7167\u5F53\u524D\u6A21\u677F\u5185\u5BB9\u6765\u54E6.\u5982\u679C\u4F60\u7684\u7C7B\u522B\u4E0B\u6CA1\u6709\u5F53\u524D\u6A21\u677F\uFF0C\u8BF7\u6309\u7167\u6A21\u677F\u5185\u5BB9\u53BB\u7533\u8BF7\u5373\u53EF\u3002",-1),aa={key:0},ea={key:1},ta={key:2},la=U({__name:"index",setup(na){const _=A(),{t:N}=D(),d=m(!0),k=m(0),w=m([]),r=F({pageNo:1,pageSize:10,tempkey:null,name:null,content:null,tempid:null,createTime:[],status:null,type:null}),s=async()=>{d.value=!0;try{const c=await Q(r);w.value=c.list,k.value=c.total}finally{d.value=!1}},v=m();return I(()=>{s()}),(c,p)=>{const P=O,b=H,n=q,S=E,x=j,J=G,h=M("hasPermi"),R=K;return i(),u(W,null,[a(b,null,{default:t(()=>[a(P,{type:"warning",title:"\u6E29\u99A8\u63D0\u793A"},{default:t(()=>[Y,Z,$]),_:1})]),_:1}),a(b,null,{default:t(()=>[g((i(),y(x,{data:l(w)},{default:t(()=>[a(n,{label:"\u6A21\u677Fid",align:"center",prop:"id"}),a(n,{label:"\u6A21\u677F\u7F16\u53F7",align:"center",prop:"tempkey"}),a(n,{label:"\u6A21\u677F\u540D",align:"center",prop:"name"}),a(n,{label:"\u6A21\u677FID",align:"center",prop:"tempid"}),a(n,{label:"\u7C7B\u578B",align:"center",prop:"type"},{default:t(e=>[e.row.type=="template"?(i(),u("span",aa,"\u516C\u4F17\u53F7\u6D88\u606F")):B("",!0),e.row.type=="subscribe"?(i(),u("span",ea,"\u5C0F\u7A0B\u5E8F\u6D88\u606F")):(i(),u("span",ta))]),_:1}),a(n,{label:"\u6DFB\u52A0\u65F6\u95F4",align:"center",prop:"createTime",formatter:l(L)},null,8,["formatter"]),a(n,{label:"\u64CD\u4F5C",align:"center"},{default:t(e=>[g((i(),y(S,{link:"",type:"primary",onClick:T=>{return o="update",C=e.row.id,void v.value.open(o,C);var o,C}},{default:t(()=>[z(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[h,["message:wechat-template:update"]]]),g((i(),y(S,{link:"",type:"danger",onClick:T=>(async o=>{try{await _.delConfirm(),await V(o),_.success(N("common.delSuccess")),await s()}catch{}})(e.row.id)},{default:t(()=>[z(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[h,["message:wechat-template:delete"]]])]),_:1})]),_:1},8,["data"])),[[R,l(d)]]),a(J,{total:l(k),page:l(r).pageNo,"onUpdate:page":p[0]||(p[0]=e=>l(r).pageNo=e),limit:l(r).pageSize,"onUpdate:limit":p[1]||(p[1]=e=>l(r).pageSize=e),onPagination:s},null,8,["total","page","limit"])]),_:1}),a(X,{ref_key:"formRef",ref:v,onSuccess:s},null,512)],64)}}});export{la as default};
