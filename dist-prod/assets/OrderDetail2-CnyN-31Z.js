import{d as H,e as K,z as Q,r as f,f as U,c,o,F as D,i as p,h as d,a as l,g as a,J as u,l as s,t as r,w as t,G as N,j as W,k as X,M as Y,q as Z,s as $,_ as ee}from"./index-QQaZ7rbf.js";import{a as le,E as ae}from"./el-descriptions-item-BBtnvGnE.js";import{E as te}from"./el-image-DHi7RmhO.js";import{E as re}from"./el-avatar-Bk2V5BPv.js";import{d as se}from"./index-AwhozRCE.js";import{a as de,f as I}from"./formatTime-esrXlwGe.js";import oe from"./help-B4Ek7LMd.js";import ie from"./settlement2-D3ppEXd1.js";import ne from"./ChangeDesk-DK1Evdqx.js";import{i as ue}from"./index-DCAaTwVR.js";import"./el-drawer-PTxXA9Gz.js";import"./el-empty-DtZU1JEc.js";import"./el-dropdown-item-D1XCTc1V.js";import"./category-Cad002jB.js";import"./product-Ckxj6eZ5.js";import"./index-D-uYqOkD.js";import"./settlement-B7gMaVg4.js";import"./slipay-ClwQEZyt.js";import"./UserSelect.vue_vue_type_script_setup_true_name_User_lang-DgBr_L2D.js";import"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import"./index.vue_vue_type_script_setup_true_lang-CtP16Cnh.js";import"./index-BctfKmg_.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-CerucUbi.js";import"./index-D_95hI5s.js";import"./index-aKI4neIb.js";import"./payResult-B3JXS29c.js";import"./scanPay-DpRycoM8.js";import"./hangList.vue_vue_type_script_setup_true_name_settlement_lang-CBj79_xI.js";import"./index-BiAqHivH.js";import"./index-RcpyhGJW.js";const w=x=>(Z("data-v-9b5a95b2"),x=x(),$(),x),pe={key:0,style:{padding:"0px 0px 80px 0px"}},fe={style:{display:"flex","justify-content":"space-between","border-radius":"15px 15px 0 0",background:"linear-gradient(0deg, #ff8425, #ffa92e)",padding:"10px 20px 40px 15px",color:"#fff","margin-bottom":"20px"}},me={style:{"font-size":"30px","font-weight":"bolder"}},ce={style:{"font-size":"12px","font-weight":"bolder","margin-top":"5px"}},ye={style:{"font-weight":"bolder","margin-top":"10px"}},be=w(()=>a("div",{class:"mylabel"}," \u83DC\u54C1\u660E\u7EC6 ",-1)),ge={class:"flex align-center"},ke={class:"flex flex-1 justify-between font-size-sm text-color-assist"},ve={class:"flex flex-column ml-2"},xe={style:{}},_e={style:{color:"#9acafc","font-weight":"bold"}},he={style:{color:"#5ac725"}},we={class:"flex flex-1 flex-column ml-2 font-size-sm"},Oe={class:"flex justify-between"},Te={class:"font-weight-bolder"},De={style:{color:"#f56c6c"}},Ie={class:"flex justify-between mt-1"},Se={width:"100%"},Ce=w(()=>a("tr",{style:{"font-weight":"bold",height:"50px"}},[a("td",null,"\u56FE\u7247"),a("td",null,"\u540D\u79F0"),a("td",null,"\u4EF7\u683C"),a("td",null,"\u6570\u91CF")],-1)),Pe=w(()=>a("td",null,"\uFFE50.00",-1)),je=w(()=>a("td",null,"x 1",-1)),ze={key:0},Le={key:1},Ne={key:2},Re={style:{"margin-top":"50px","text-align":"center"}},Ve={style:{"margin-bottom":"10px"}},Ee={style:{"margin-bottom":"10px"}},Ge=ee(H({__name:"OrderDetail2",emits:["success"],setup(x,{expose:R,emit:V}){const{t:Me}=K(),y=Q(),E=f(""),S=f(!1),e=f({}),G=f("");f({});const M=f([]),q=f(0),n=f({bookStatus:0}),C=async g=>{S.value=!0,n.value=g,g.id||(n.value.bookStatus=0),E.value="\u684C\u53F0\uFF1A"+g.number,e.value=await se(g.lastOrderNo),G.value=e.value.userRespVO?e.value.userRespVO.nickname:"--",M.value=e.value.storeOrderCartInfoDOList,e.value.storeOrderCartInfoDOList&&e.value.storeOrderCartInfoDOList.length>0&&(q.value=e.value.storeOrderCartInfoDOList[e.value.storeOrderCartInfoDOList.length-1].addProductMark)};R({open:C});const P=f(),F=V,j=f(),z=f(),O=()=>{C({}),F("success")};return U(()=>{n.value.bookStatus=0}),(g,b)=>{const J=re,A=W,L=te,i=le,T=ae,_=X,h=Y;return o(),c(D,null,[l(n).bookStatus==0?(o(),c("div",pe,[a("div",fe,[a("div",null,[a("div",null,[s("\u684C\u53F0\uFF1A"),a("span",me,r(l(n).number),1)]),a("div",ce,"\u5C31\u9910\u65F6\u95F4:"+r(l(n).lastOrderTime?l(de)(l(n).lastOrderTime)+"\u4E0B\u8FC7\u5355":"--"),1)]),a("span",ye,"\u4EBA\u6570\uFF1A"+r(l(e).deskPeople?l(e).deskPeople:"--")+"\u4EBA",1)]),l(e).orderType!="due"?(o(),u(T,{key:0,title:"",column:1},{default:t(()=>[d(i,null,{label:t(()=>[be]),default:t(()=>[a("div",null,[(o(!0),c(D,null,N(l(e).appDeskOrderVo,(m,k)=>(o(),c("div",{style:{background:"linear-gradient(to bottom, #e9f1ee, #fcfcf4)",padding:"20px 30px",margin:"10px 0","border-radius":"20px"},key:k},[a("div",ge,[a("div",null,[d(J,{size:50,src:m.uavatar},null,8,["src"])]),a("div",ke,[a("div",ve,[a("span",null,r(m.unickname),1),a("span",null,r(l(I)(m.addTime)),1)]),a("div",xe,[a("span",_e,r(m.uidType=="user"?"\u7528\u6237\u70B9\u9910":"\u5458\u5DE5\u5E2E\u70B9"),1),a("span",he,"("+r(m.isOrder==0?"\u672A\u51FA\u9910":"\u5DF2\u51FA\u9910")+")",1)])])]),d(A),(o(!0),c(D,null,N(m.appDeskOrderGoodsVos,(v,B)=>(o(),c("div",{class:"flex align-center",key:B},[a("div",null,[d(L,{src:v.image,style:{width:"70px",height:"70px"}},null,8,["src"])]),a("div",we,[a("div",Oe,[a("span",Te,r(v.title),1),a("span",De,r(v.spec),1)]),a("div",Ie,[a("span",null,"\xA5"+r(v.price),1),a("span",null,"x"+r(v.number),1)])])]))),128))]))),128))])]),_:1})]),_:1})):(o(),u(T,{key:1,title:"\u5546\u54C1\u660E\u7EC6",column:1},{default:t(()=>[d(i,{label:"\u9884\u7EA6\u684C\u9762"},{default:t(()=>[a("table",Se,[Ce,a("tr",null,[a("td",null,[d(L,{style:{width:"40px",height:"40px"},src:l(e).shopDeskDO.image,fit:g.fit},null,8,["src","fit"])]),a("td",null,r(l(e).shopDeskDO.title),1),Pe,je])])]),_:1})]),_:1})),d(T,{title:"\u8BA2\u5355\u4FE1\u606F",column:2},{title:t(()=>[s(" \u8BA2\u5355\u4FE1\u606F "),l(e).orderType=="desk"?(o(),u(_,{key:0,type:"danger"},{default:t(()=>[s("\u5802\u98DF")]),_:1})):p("",!0),l(e).orderType=="takeout"?(o(),u(_,{key:1,type:"danger"},{default:t(()=>[s("\u5916\u5356")]),_:1})):p("",!0),l(e).orderType=="takein"?(o(),u(_,{key:2,type:"danger"},{default:t(()=>[s("\u81EA\u53D6")]),_:1})):p("",!0),l(e).orderType=="due"?(o(),u(_,{key:3,type:"danger"},{default:t(()=>[s("\u9884\u7EA6")]),_:1})):p("",!0)]),default:t(()=>[d(i,{label:"\u95E8\u5E97"},{default:t(()=>[s(r(l(e).shopName),1)]),_:1}),l(e).orderType!="due"?(o(),u(i,{key:0,label:"\u53D6\u9910\u53F7"},{default:t(()=>[s(r(l(e).numberId),1)]),_:1})):p("",!0),d(i,{label:"\u684C\u4F4D\u53F7"},{default:t(()=>[s(r(l(e).deskNumber?l(e).deskNumber:"\u65E0"),1)]),_:1}),l(e).orderType!="due"?(o(),u(i,{key:1,label:"\u5C31\u9910\u4EBA\u6570"},{default:t(()=>[s(r(l(e).deskPeople?l(e).deskPeople:"\u65E0"),1)]),_:1})):p("",!0),d(i,{label:"\u8BA2\u5355\u53F7"},{default:t(()=>[s(r(l(e).orderId),1)]),_:1}),l(e).orderType=="due"?(o(),u(i,{key:2,label:"\u9884\u7EA6\u65F6\u95F4"},{default:t(()=>[s(r(l(I)(l(e).dueTime)),1)]),_:1})):p("",!0),l(e).orderType=="due"?(o(),u(i,{key:3,label:"\u5230\u5E97\u65F6\u95F4"},{default:t(()=>[s(r(l(e).reachTime),1)]),_:1})):p("",!0),l(e).orderType=="due"?(o(),u(i,{key:4,label:"\u9884\u7EA6\u4EBA"},{default:t(()=>[s(r(l(e).realName),1)]),_:1})):p("",!0),l(e).orderType=="due"?(o(),u(i,{key:5,label:"\u9884\u7EA6\u9884\u7559\u7535\u8BDD"},{default:t(()=>[s(r(l(e).userPhone),1)]),_:1})):p("",!0),l(e).orderType!="due"?(o(),u(i,{key:6,label:"\u8BA2\u5355\u72B6\u6001"},{default:t(()=>[s(r(l(e).statusStr),1)]),_:1})):p("",!0),l(e).orderType=="due"?(o(),u(i,{key:7,label:"\u9884\u7EA6\u72B6\u6001"},{default:t(()=>[l(e).dueStatus==1?(o(),c("span",ze,"\u9884\u7EA6\u4E2D")):l(e).dueStatus==2?(o(),c("span",Le,"\u5DF2\u53D6\u6D88")):(o(),c("span",Ne,"\u5DF2\u5B8C\u6210"))]),_:1})):p("",!0),d(i,{label:"\u5546\u54C1\u603B\u6570"},{default:t(()=>[s(r(l(e).totalNum),1)]),_:1}),d(i,{label:"\u5546\u54C1\u603B\u4EF7"},{default:t(()=>[s(r(l(e).totalPrice)+"\u5143",1)]),_:1}),d(i,{label:"\u4F18\u60E0\u5238\u91D1\u989D"},{default:t(()=>[s(r(l(e).couponPrice)+"\u5143",1)]),_:1}),d(i,{label:"\u79EF\u5206\u62B5\u6263"},{default:t(()=>[s(r(l(e).useIntegral),1)]),_:1}),d(i,{label:"\u5B9E\u9645\u652F\u4ED8"},{default:t(()=>[s(r(l(e).payPrice)+"\u5143",1)]),_:1}),d(i,{label:"\u8D60\u9001\u79EF\u5206"},{default:t(()=>[s(r(l(e).gainIntegral),1)]),_:1}),d(i,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:t(()=>[s(r(l(I)(l(e).createTime)),1)]),_:1})]),_:1}),a("div",Re,[a("div",Ve,[d(h,{type:"warning",style:{background:"linear-gradient(0deg, #ff8425, #ffa92e)",width:"45%"},round:"",onClick:b[0]||(b[0]=m=>{n.value.id?P.value.open(n.value,e.value):y.error("\u8BF7\u5148\u9009\u62E9\u684C\u53F0\uFF01")})},{default:t(()=>[s("\u534F\u52A9\u70B9\u9910")]),_:1}),d(h,{type:"warning",style:{background:"linear-gradient(0deg, #ff8425, #ffa92e)",width:"45%"},round:"",onClick:b[1]||(b[1]=m=>(async k=>{n.value.id?k?j.value.open(e.value):y.error("\u8BF7\u5148\u70B9\u9910\u54E6\uFF01"):y.error("\u8BF7\u5148\u9009\u62E9\u684C\u53F0\uFF01")})(l(e).id))},{default:t(()=>[s("\u7ED3\u8D26")]),_:1})]),a("div",Ee,[d(h,{type:"warning",style:{background:"linear-gradient(0deg, #ff8425, #ffa92e)",width:"45%"},round:"",onClick:b[2]||(b[2]=m=>{n.value.id?n.value.lastOrderStatus!=0?z.value.open(n.value.id):y.error("\u672A\u5F00\u53F0\uFF0C\u8BF7\u5148\u53BB\u70B9\u9910\u54E6"):y.error("\u8BF7\u5148\u9009\u62E9\u684C\u53F0\uFF01")})},{default:t(()=>[s("\u8F6C\u53F0")]),_:1}),d(h,{type:"warning",style:{background:"linear-gradient(0deg, #ff8425, #ffa92e)",width:"45%"},round:"",onClick:b[3]||(b[3]=m=>(async k=>{if(n.value.id)if(k)try{await ue({orderId:k}),y.success("\u5DF2\u51FA\u5355"),S.value=!1}catch{}else y.error("\u8BF7\u5148\u70B9\u9910\u54E6\uFF01");else y.error("\u8BF7\u5148\u9009\u62E9\u684C\u53F0\uFF01")})(l(e).orderId))},{default:t(()=>[s("\u51FA\u5355\u6253\u5370\u5C0F\u7968")]),_:1})])])])):p("",!0),d(oe,{ref_key:"helpOrderRef",ref:P,onSuccess:O},null,512),d(ie,{ref_key:"settlementRef",ref:j,onSuccess:O},null,512),d(ne,{ref_key:"changeDeskRef",ref:z,onSuccess:O},null,512)],64)}}}),[["__scopeId","data-v-9b5a95b2"]]);export{Ge as default};
