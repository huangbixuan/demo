import{d as I,z as J,e as K,r as i,A as M,f as O,R as j,c as w,o as p,h as e,w as a,B as D,a as t,C as G,S as H,T as L,O as u,M as Q,l as d,N as W,J as f,n as X,p as Y,P as $,F as Z}from"./index-QQaZ7rbf.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-CtP16Cnh.js";import{E as ae}from"./el-image-DHi7RmhO.js";import{_ as le}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CerucUbi.js";import{d as te}from"./formatTime-esrXlwGe.js";import{_ as se,g as oe,d as re}from"./AdsForm.vue_vue_type_script_setup_true_lang-S8m5PzJ2.js";import"./index-BctfKmg_.js";import"./index-D_95hI5s.js";import"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import"./Materials-DPzAVFcF.js";import"./material-mdbw-jQF.js";import"./index-D-uYqOkD.js";const pe={key:0},ie={key:1},ne=I({__name:"index",setup(ce){const k=J(),{t:R}=K(),g=i(!0),b=i(0),x=i([]),o=M({pageNo:1,pageSize:10,shopName:null}),C=i();i(!1);const n=async()=>{g.value=!0;try{const c=await oe(o);x.value=c.list,b.value=c.total}finally{g.value=!1}},h=()=>{o.pageNo=1,n()},U=()=>{C.value.resetFields(),h()},N=i(),S=(c,s)=>{N.value.open(c,s)};return O(()=>{n()}),(c,s)=>{const F=H,v=G,_=W,m=Q,P=D,z=le,r=Y,V=ae,T=X,q=ee,y=j("hasPermi"),A=$;return p(),w(Z,null,[e(z,null,{default:a(()=>[e(P,{class:"-mb-15px",model:t(o),ref_key:"queryFormRef",ref:C,inline:!0,"label-width":"68px"},{default:a(()=>[e(v,{label:"\u5E97\u94FA\u540D\u79F0",prop:"shopId"},{default:a(()=>[e(F,{modelValue:t(o).shopName,"onUpdate:modelValue":s[0]||(s[0]=l=>t(o).shopName=l),placeholder:"\u8BF7\u8F93\u5165\u5E97\u94FA\u540D\u79F0",clearable:"",onKeyup:L(h,["enter"]),class:"!w-240px"},null,8,["modelValue"])]),_:1}),e(v,null,{default:a(()=>[e(m,{onClick:h},{default:a(()=>[e(_,{icon:"ep:search",class:"mr-5px"}),d(" \u641C\u7D22")]),_:1}),e(m,{onClick:U},{default:a(()=>[e(_,{icon:"ep:refresh",class:"mr-5px"}),d(" \u91CD\u7F6E")]),_:1}),u((p(),f(m,{type:"primary",onClick:s[1]||(s[1]=l=>S("create"))},{default:a(()=>[e(_,{icon:"ep:plus",class:"mr-5px"}),d(" \u65B0\u589E ")]),_:1})),[[y,["shop:ads:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),e(z,null,{default:a(()=>[u((p(),f(T,{data:t(x)},{default:a(()=>[e(r,{label:"id",align:"center",prop:"id"}),e(r,{label:"\u56FE\u7247",align:"center",prop:"image"},{default:a(l=>[e(V,{style:{width:"100px",height:"100px"},src:l.row.image},null,8,["src"])]),_:1}),e(r,{label:"\u662F\u5426\u53EF\u7528",align:"center",prop:"isSwitch"},{default:a(l=>[l.row.isSwitch==1?(p(),w("span",pe,"\u662F")):(p(),w("span",ie,"\u5426"))]),_:1}),e(r,{label:"\u6743\u91CD",align:"center",prop:"weigh"}),e(r,{label:"\u5C55\u793A\u5E97\u94FA",align:"center",prop:"shopName"}),e(r,{label:"\u6DFB\u52A0\u65F6\u95F4",align:"center",prop:"createTime",formatter:t(te)},null,8,["formatter"]),e(r,{label:"\u64CD\u4F5C",align:"center"},{default:a(l=>[u((p(),f(m,{link:"",type:"primary",onClick:B=>S("update",l.row.id)},{default:a(()=>[d(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[y,["shop:ads:update"]]]),u((p(),f(m,{link:"",type:"danger",onClick:B=>(async E=>{try{await k.delConfirm(),await re(E),k.success(R("common.delSuccess")),await n()}catch{}})(l.row.id)},{default:a(()=>[d(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[y,["shop:ads:delete"]]])]),_:1})]),_:1},8,["data"])),[[A,t(g)]]),e(q,{total:t(b),page:t(o).pageNo,"onUpdate:page":s[2]||(s[2]=l=>t(o).pageNo=l),limit:t(o).pageSize,"onUpdate:limit":s[3]||(s[3]=l=>t(o).pageSize=l),onPagination:n},null,8,["total","page","limit"])]),_:1}),e(se,{ref_key:"formRef",ref:N,onSuccess:n},null,512)],64)}}});export{ne as default};
