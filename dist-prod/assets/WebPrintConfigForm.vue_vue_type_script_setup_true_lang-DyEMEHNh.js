import{d as B,e as J,z as j,r as s,A as M,J as f,o as v,w as p,h as t,v as N,x as h,a as e,y as O,O as k,B as T,C as E,S as G,P as H,M as K,l as w}from"./index-QQaZ7rbf.js";import{_ as L}from"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import{a as Q,s as X}from"./index-CEQFp30L.js";const Y=B({name:"WebPrintConfigForm",__name:"WebPrintConfigForm",emits:["success"],setup(Z,{expose:x,emit:U}){const{t:C}=J(),P=j(),m=s(!1),V=s(""),r=s(!1),q=s(""),a=s({id:void 0,brand:void 0,appId:void 0,appSecret:void 0,template:void 0}),b=M({appId:[{required:!0,message:"appId\u6216\u8005user\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],appSecret:[{required:!0,message:"appSecret\u6216\u8005ukey\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],template:[{required:!0,message:"\u6253\u5370\u6A21\u7248\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),c=s(),i=s("yly"),y=async(o,l)=>{m.value=!0,V.value=C("action."+o),q.value=o,W(),r.value=!0;try{const u=await Q(i.value);u&&(a.value=u)}finally{r.value=!1}};x({open:y});const F=U,D=async()=>{await c.value.validate(),r.value=!0;try{const o=a.value;o.brand=i.value,await X(o),P.success("\u914D\u7F6E\u6210\u529F"),m.value=!1,F("success")}finally{r.value=!1}},R=(o,l)=>{i.value=o.paneName,y("setPrint")},W=()=>{var o;a.value={id:void 0,brand:void 0,appId:void 0,appSecret:void 0,template:void 0},(o=c.value)==null||o.resetFields()};return(o,l)=>{const u=G,n=E,_=T,I=O,z=N,S=K,A=L,g=H;return v(),f(A,{title:e(V),modelValue:e(m),"onUpdate:modelValue":l[8]||(l[8]=d=>h(m)?m.value=d:null)},{footer:p(()=>[t(S,{onClick:D,type:"primary",disabled:e(r)},{default:p(()=>[w("\u786E \u5B9A")]),_:1},8,["disabled"]),t(S,{onClick:l[7]||(l[7]=d=>m.value=!1)},{default:p(()=>[w("\u53D6 \u6D88")]),_:1})]),default:p(()=>[t(z,{modelValue:e(i),"onUpdate:modelValue":l[6]||(l[6]=d=>h(i)?i.value=d:null),type:"card",onTabClick:R},{default:p(()=>[t(I,{label:"\u6613\u8054\u4E91",name:"yly"},{default:p(()=>[k((v(),f(_,{ref_key:"formRef",ref:c,model:e(a),rules:e(b),"label-width":"100px"},{default:p(()=>[t(n,{label:"\u5E94\u7528ID",prop:"appId"},{default:p(()=>[t(u,{modelValue:e(a).appId,"onUpdate:modelValue":l[0]||(l[0]=d=>e(a).appId=d),placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528ID"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u5E94\u7528\u5BC6\u94A5",prop:"appSecret"},{default:p(()=>[t(u,{modelValue:e(a).appSecret,"onUpdate:modelValue":l[1]||(l[1]=d=>e(a).appSecret=d),placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u5BC6\u94A5"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u6253\u5370\u6A21\u7248",prop:"template"},{default:p(()=>[t(u,{type:"textarea",rows:8,modelValue:e(a).template,"onUpdate:modelValue":l[2]||(l[2]=d=>e(a).template=d),placeholder:"\u8BF7\u8F93\u5165\u6253\u5370\u6A21\u7248"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[g,e(r)]])]),_:1}),t(I,{label:"\u98DE\u86FE",name:"feie"},{default:p(()=>[k((v(),f(_,{ref_key:"formRef",ref:c,model:e(a),rules:e(b),"label-width":"100px"},{default:p(()=>[t(n,{label:"user",prop:"appId"},{default:p(()=>[t(u,{modelValue:e(a).appId,"onUpdate:modelValue":l[3]||(l[3]=d=>e(a).appId=d),placeholder:"\u8BF7\u8F93\u5165user"},null,8,["modelValue"])]),_:1}),t(n,{label:"ukey",prop:"appSecret"},{default:p(()=>[t(u,{modelValue:e(a).appSecret,"onUpdate:modelValue":l[4]||(l[4]=d=>e(a).appSecret=d),placeholder:"\u8BF7\u8F93\u5165ukey"},null,8,["modelValue"])]),_:1}),t(n,{label:"\u6253\u5370\u6A21\u7248",prop:"template"},{default:p(()=>[t(u,{type:"textarea",rows:8,modelValue:e(a).template,"onUpdate:modelValue":l[5]||(l[5]=d=>e(a).template=d),placeholder:"\u8BF7\u8F93\u5165\u6253\u5370\u6A21\u7248"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[g,e(r)]])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","modelValue"])}}});export{Y as _};
