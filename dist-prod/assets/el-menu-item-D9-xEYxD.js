import{bq as T,ds as Y,au as ne,d as J,J as Me,o as q,w as ae,ay as L,az as Ne,a2 as Pe,av as P,dt as Z,du as $e,dv as oe,a4 as p,dw as Ae,at as se,bb as K,dx as U,r as k,by as ze,cs as Be,A as ue,as as X,bQ as re,aJ as ie,f as de,cg as ge,aY as f,b4 as R,bP as ye,ba as Ie,dy as Le,O as Ce,a7 as We,F as ce,dz as Se,bo as V,br as _e,aO as je,bF as qe,cv as Re,bO as Fe,bx as ke,dA as Ge,ce as De,b5 as pe,aL as Je,aG as Ve,c as ee,g as ve,$ as te,ax as He,l as Qe,t as Ye,aB as Ze,aC as me}from"./index-QQaZ7rbf.js";let Ke=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",r=>{let o=!1;switch(r.code){case T.down:this.gotoSubIndex(this.subIndex+1),o=!0;break;case T.up:this.gotoSubIndex(this.subIndex-1),o=!0;break;case T.tab:Y(e,"mouseleave");break;case T.enter:case T.space:o=!0,r.currentTarget.click()}return o&&(r.preventDefault(),r.stopPropagation()),!1})})}},Ue=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new Ke(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let t=!1;switch(e.code){case T.down:Y(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break;case T.up:Y(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break;case T.tab:Y(e.currentTarget,"mouseleave");break;case T.enter:case T.space:t=!0,e.currentTarget.click()}t&&e.preventDefault()})}},Xe=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach(r=>{r.nodeType===1&&new Ue(r,e)})}};var et=ne(J({name:"ElMenuCollapseTransition",setup(){const e=P("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,r){Z(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",r()},onAfterEnter(t){oe(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),$e(t,e.m("collapse"))?(oe(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),Z(t,e.m("collapse"))):(Z(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),oe(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){Z(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}}),[["render",function(e,t,r,o,x,E){return q(),Me(Pe,Ne({mode:"out-in"},e.listeners),{default:ae(()=>[L(e.$slots,"default")]),_:3},16)}],["__file","menu-collapse-transition.vue"]]);function Oe(e,t){const r=p(()=>{let o=e.parent;const x=[t.value];for(;o.type.name!=="ElMenu";)o.props.index&&x.unshift(o.props.index),o=o.parent;return x});return{parentMenu:p(()=>{let o=e.parent;for(;o&&!["ElMenu","ElSubMenu"].includes(o.type.name);)o=o.parent;return o}),indexPath:r}}function tt(e){return p(()=>{const t=e.backgroundColor;return t?new Ae(t).shade(20).toString():""})}const Ee=(e,t)=>{const r=P("menu");return p(()=>r.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":tt(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},lt=se({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:V},expandOpenIcon:{type:V},collapseCloseIcon:{type:V},collapseOpenIcon:{type:V}}),he="ElSubMenu";var be=J({name:he,props:lt,setup(e,{slots:t,expose:r}){const o=ie(),{indexPath:x,parentMenu:E}=Oe(o,p(()=>e.index)),d=P("menu"),h=P("sub-menu"),a=K("rootMenu");a||U(he,"can not inject root menu");const i=K(`subMenu:${E.value.uid}`);i||U(he,"can not inject sub menu");const c=k({}),y=k({});let g;const N=k(!1),le=k(),z=k(null),F=p(()=>$.value==="horizontal"&&_.value?"bottom-start":"right-start"),W=p(()=>$.value==="horizontal"&&_.value||$.value==="vertical"&&!a.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?O.value?e.expandOpenIcon:e.expandCloseIcon:ze:e.collapseCloseIcon&&e.collapseOpenIcon?O.value?e.collapseOpenIcon:e.collapseCloseIcon:Be),_=p(()=>i.level===0),G=p(()=>{const s=e.teleported;return s===void 0?_.value:s}),H=p(()=>a.props.collapse?`${d.namespace.value}-zoom-in-left`:`${d.namespace.value}-zoom-in-top`),Q=p(()=>$.value==="horizontal"&&_.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),O=p(()=>a.openedMenus.includes(e.index)),B=p(()=>{let s=!1;return Object.values(c.value).forEach(m=>{m.active&&(s=!0)}),Object.values(y.value).forEach(m=>{m.active&&(s=!0)}),s}),$=p(()=>a.props.mode),l=ue({index:e.index,indexPath:x,active:B}),n=Ee(a.props,i.level+1),u=p(()=>{var s;return(s=e.popperOffset)!=null?s:a.props.popperOffset}),v=p(()=>{var s;return(s=e.popperClass)!=null?s:a.props.popperClass}),b=p(()=>{var s;return(s=e.showTimeout)!=null?s:a.props.showTimeout}),A=p(()=>{var s;return(s=e.hideTimeout)!=null?s:a.props.hideTimeout}),j=s=>{var m,M,w;s||(w=(M=(m=z.value)==null?void 0:m.popperRef)==null?void 0:M.popperInstanceRef)==null||w.destroy()},S=()=>{a.props.menuTrigger==="hover"&&a.props.mode==="horizontal"||a.props.collapse&&a.props.mode==="vertical"||e.disabled||a.handleSubMenuClick({index:e.index,indexPath:x.value,active:B.value})},I=(s,m=b.value)=>{var M;s.type!=="focus"&&(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||e.disabled?i.mouseInChild.value=!0:(i.mouseInChild.value=!0,g==null||g(),{stop:g}=Se(()=>{a.openMenu(e.index,x.value)},m),G.value&&((M=E.value.vnode.el)==null||M.dispatchEvent(new MouseEvent("mouseenter")))))},C=(s=!1)=>{var m;a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"?i.mouseInChild.value=!1:(g==null||g(),i.mouseInChild.value=!1,{stop:g}=Se(()=>!N.value&&a.closeMenu(e.index,x.value),A.value),G.value&&s&&((m=i.handleMouseleave)==null||m.call(i,!0)))};X(()=>a.props.collapse,s=>j(!!s));{const s=M=>{y.value[M.index]=M},m=M=>{delete y.value[M.index]};re(`subMenu:${o.uid}`,{addSubMenu:s,removeSubMenu:m,handleMouseleave:C,mouseInChild:N,level:i.level+1})}return r({opened:O}),de(()=>{a.addSubMenu(l),i.addSubMenu(l)}),ge(()=>{i.removeSubMenu(l),a.removeSubMenu(l)}),()=>{var s;const m=[(s=t.title)==null?void 0:s.call(t),f(ye,{class:h.e("icon-arrow"),style:{transform:O.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&a.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>R(W.value)?f(o.appContext.components[W.value]):f(W.value)})],M=a.isMenuPopup?f(Ie,{ref:z,visible:O.value,effect:"light",pure:!0,offset:u.value,showArrow:!1,persistent:!0,popperClass:v.value,placement:F.value,teleported:G.value,fallbackPlacements:Q.value,transition:H.value,gpuAcceleration:!1},{content:()=>{var w;return f("div",{class:[d.m($.value),d.m("popup-container"),v.value],onMouseenter:D=>I(D,100),onMouseleave:()=>C(!0),onFocus:D=>I(D,100)},[f("ul",{class:[d.b(),d.m("popup"),d.m(`popup-${F.value}`)],style:n.value},[(w=t.default)==null?void 0:w.call(t)])])},default:()=>f("div",{class:h.e("title"),onClick:S},m)}):f(ce,{},[f("div",{class:h.e("title"),ref:le,onClick:S},m),f(Le,{},{default:()=>{var w;return Ce(f("ul",{role:"menu",class:[d.b(),d.m("inline")],style:n.value},[(w=t.default)==null?void 0:w.call(t)]),[[We,O.value]])}})]);return f("li",{class:[h.b(),h.is("active",B.value),h.is("opened",O.value),h.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:O.value,onMouseenter:I,onMouseleave:()=>C(),onFocus:I},[M])}}});const nt=se({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:pe(Array),default:()=>De([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:V,default:()=>Ge},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),fe=e=>Array.isArray(e)&&e.every(t=>R(t));var at=J({name:"ElMenu",props:nt,emits:{close:(e,t)=>R(e)&&fe(t),open:(e,t)=>R(e)&&fe(t),select:(e,t,r,o)=>R(e)&&fe(t)&&_e(r)&&(o===void 0||o instanceof Promise)},setup(e,{emit:t,slots:r,expose:o}){const x=ie(),E=x.appContext.config.globalProperties.$router,d=k(),h=P("menu"),a=P("sub-menu"),i=k(-1),c=k(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),y=k(e.defaultActive),g=k({}),N=k({}),le=p(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),z=(l,n)=>{c.value.includes(l)||(e.uniqueOpened&&(c.value=c.value.filter(u=>n.includes(u))),c.value.push(l),t("open",l,n))},F=l=>{const n=c.value.indexOf(l);n!==-1&&c.value.splice(n,1)},W=(l,n)=>{F(l),t("close",l,n)},_=({index:l,indexPath:n})=>{c.value.includes(l)?W(l,n):z(l,n)},G=l=>{(e.mode==="horizontal"||e.collapse)&&(c.value=[]);const{index:n,indexPath:u}=l;if(!ke(n)&&!ke(u))if(e.router&&E){const v=l.route||n,b=E.push(v).then(A=>(A||(y.value=n),A));t("select",n,u,{index:n,indexPath:u,route:v},b)}else y.value=n,t("select",n,u,{index:n,indexPath:u})},H=()=>{var l,n;if(!d.value)return-1;const u=Array.from((n=(l=d.value)==null?void 0:l.childNodes)!=null?n:[]).filter(C=>C.nodeName!=="#comment"&&(C.nodeName!=="#text"||C.nodeValue)),v=getComputedStyle(d.value),b=Number.parseInt(v.paddingLeft,10),A=Number.parseInt(v.paddingRight,10),j=d.value.clientWidth-b-A;let S=0,I=0;return u.forEach((C,s)=>{S+=(m=>{const M=getComputedStyle(m),w=Number.parseInt(M.marginLeft,10),D=Number.parseInt(M.marginRight,10);return m.offsetWidth+w+D||0})(C),S<=j-64&&(I=s+1)}),I===u.length?-1:I};let Q=!0;const O=()=>{if(i.value===H())return;const l=()=>{i.value=-1,Je(()=>{i.value=H()})};Q?l():((n,u=33.34)=>{let v;return()=>{v&&clearTimeout(v),v=setTimeout(()=>{n()},u)}})(l)(),Q=!1};let B;X(()=>e.defaultActive,l=>{g.value[l]||(y.value=""),(n=>{const u=g.value,v=u[n]||y.value&&u[y.value]||u[e.defaultActive];y.value=v?v.index:n})(l)}),X(()=>e.collapse,l=>{l&&(c.value=[])}),X(g.value,()=>{const l=y.value&&g.value[y.value];!l||e.mode==="horizontal"||e.collapse||l.indexPath.forEach(n=>{const u=N.value[n];u&&z(n,u.indexPath)})}),je(()=>{e.mode==="horizontal"&&e.ellipsis?B=qe(d,O).stop:B==null||B()});const $=k(!1);{const l=b=>{N.value[b.index]=b},n=b=>{delete N.value[b.index]};re("rootMenu",ue({props:e,openedMenus:c,items:g,subMenus:N,activeIndex:y,isMenuPopup:le,addMenuItem:b=>{g.value[b.index]=b},removeMenuItem:b=>{delete g.value[b.index]},addSubMenu:l,removeSubMenu:n,openMenu:z,closeMenu:W,handleMenuItemClick:G,handleSubMenuClick:_})),re(`subMenu:${x.uid}`,{addSubMenu:l,removeSubMenu:n,mouseInChild:$,level:0})}return de(()=>{e.mode==="horizontal"&&new Xe(x.vnode.el,h.namespace.value)}),o({open:l=>{const{indexPath:n}=N.value[l];n.forEach(u=>z(u,n))},close:F,handleResize:O}),()=>{var l,n;let u=(n=(l=r.default)==null?void 0:l.call(r))!=null?n:[];const v=[];if(e.mode==="horizontal"&&d.value){const S=Re(u),I=i.value===-1?S:S.slice(0,i.value),C=i.value===-1?[]:S.slice(i.value);C!=null&&C.length&&e.ellipsis&&(u=I,v.push(f(be,{index:"sub-menu-more",class:a.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>f(ye,{class:a.e("icon-more")},{default:()=>f(e.ellipsisIcon)}),default:()=>C})))}const b=Ee(e,0),A=e.closeOnClickOutside?[[Fe,()=>{c.value.length&&($.value||(c.value.forEach(S=>{return t("close",S,(I=S,N.value[I].indexPath));var I}),c.value=[]))}]]:[],j=Ce(f("ul",{key:String(e.collapse),role:"menubar",ref:d,style:b.value,class:{[h.b()]:!0,[h.m(e.mode)]:!0,[h.m("collapse")]:e.collapse}},[...u,...v]),A);return e.collapseTransition&&e.mode==="vertical"?f(et,()=>j):j}}});const ot=se({index:{type:pe([String,null]),default:null},route:{type:pe([String,Object])},disabled:Boolean}),xe="ElMenuItem";var we=ne(J({name:xe,components:{ElTooltip:Ie},props:ot,emits:{click:e=>R(e.index)&&Array.isArray(e.indexPath)},setup(e,{emit:t}){const r=ie(),o=K("rootMenu"),x=P("menu"),E=P("menu-item");o||U(xe,"can not inject root menu");const{parentMenu:d,indexPath:h}=Oe(r,He(e,"index")),a=K(`subMenu:${d.value.uid}`);a||U(xe,"can not inject sub menu");const i=p(()=>e.index===o.activeIndex),c=ue({index:e.index,indexPath:h,active:i});return de(()=>{a.addSubMenu(c),o.addMenuItem(c)}),ge(()=>{a.removeSubMenu(c),o.removeMenuItem(c)}),{parentMenu:d,rootMenu:o,active:i,nsMenu:x,nsMenuItem:E,handleClick:()=>{e.disabled||(o.handleMenuItemClick({index:e.index,indexPath:h.value,route:e.route}),t("click",c))}}}}),[["render",function(e,t,r,o,x,E){const d=Ve("el-tooltip");return q(),ee("li",{class:te([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...h)=>e.handleClick&&e.handleClick(...h))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(q(),Me(d,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:ae(()=>[L(e.$slots,"title")]),default:ae(()=>[ve("div",{class:te(e.nsMenu.be("tooltip","trigger"))},[L(e.$slots,"default")],2)]),_:3},8,["effect"])):(q(),ee(ce,{key:1},[L(e.$slots,"default"),L(e.$slots,"title")],64))],2)}],["__file","menu-item.vue"]]),Te=ne(J({name:"ElMenuItemGroup",props:{title:String},setup:()=>({ns:P("menu-item-group")})}),[["render",function(e,t,r,o,x,E){return q(),ee("li",{class:te(e.ns.b())},[ve("div",{class:te(e.ns.e("title"))},[e.$slots.title?L(e.$slots,"title",{key:1}):(q(),ee(ce,{key:0},[Qe(Ye(e.title),1)],64))],2),ve("ul",null,[L(e.$slots,"default")])],2)}],["__file","menu-item-group.vue"]]);const st=Ze(at,{MenuItem:we,MenuItemGroup:Te,SubMenu:be}),ut=me(we);me(Te);const rt=me(be);export{st as E,ut as a,rt as b};
