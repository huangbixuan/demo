import{d as O,e as U,z as A,r,A as D,J as c,o as p,a as d,x as E,w as l,O as F,P as K,B as j,h as v,C as z,S as B,D as G,c as J,K as M,F as H,G as L,M as Q,l as T,_ as X}from"./index-QQaZ7rbf.js";import{_ as Y}from"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import{b as Z,u as $}from"./index-AwhozRCE.js";const ee=X(O({__name:"OrderSendInfo",emits:["success"],setup(de,{expose:h,emit:_}){const{t:y}=U(),k=A(),s=r(!1),f=r(""),n=r(!1),I=r(""),o=r({id:void 0,updateType:"",orderId:void 0,orderType:"send",extendOrderId:void 0,uid:void 0,realName:void 0,userPhone:void 0,userAddress:void 0,cartId:void 0,freightPrice:void 0,totalNum:void 0,totalPrice:void 0,totalPostage:void 0,payPrice:void 0,payPostage:void 0,deductionPrice:void 0,couponId:void 0,couponPrice:void 0,paid:void 0,payTime:void 0,payType:void 0,status:void 0,refundStatus:void 0,refundReasonWapImg:void 0,refundReasonWapExplain:void 0,refundReasonTime:void 0,refundReasonWap:void 0,refundReason:void 0,refundPrice:void 0,deliverySn:void 0,deliveryName:void 0,deliveryType:"normal",deliveryId:void 0,gainIntegral:void 0,useIntegral:void 0,payIntegral:void 0,backIntegral:void 0,mark:void 0,unique:void 0,remark:void 0,merId:void 0,combinationId:void 0,pinkId:void 0,cost:void 0,seckillId:void 0,bargainId:void 0,verifyCode:void 0,storeId:void 0,shippingType:void 0,isChannel:void 0,isSystemDel:void 0}),S=D({deliveryName:[{required:!0,message:"\u5FEB\u9012\u516C\u53F8\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],deliveryId:[{required:!0,message:"\u5FEB\u9012\u5355\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),u=r(),g=r([]);h({open:async(a,e)=>{if(s.value=!0,f.value=y("action."+a),I.value=a,C(),e){n.value=!0;try{o.value=await Z(e)}finally{n.value=!1}}}});const V=_,R=async()=>{if(u&&await u.value.validate()){n.value=!0;try{const a=o.value;a.updateType=I.value,await $(a),k.success(y("common.updateSuccess")),s.value=!1,V("success")}finally{n.value=!1}}},x=a=>{let e={};e=g.value.find(t=>t.code===a),o.value.deliveryName=e.name},C=()=>{var a;o.value={id:void 0,updateType:"",orderId:void 0,orderType:"send",extendOrderId:void 0,uid:void 0,realName:void 0,userPhone:void 0,userAddress:void 0,cartId:void 0,freightPrice:void 0,totalNum:void 0,totalPrice:void 0,totalPostage:void 0,payPrice:void 0,payPostage:void 0,deductionPrice:void 0,couponId:void 0,couponPrice:void 0,paid:void 0,payTime:void 0,payType:void 0,status:void 0,refundStatus:void 0,refundReasonWapImg:void 0,refundReasonWapExplain:void 0,refundReasonTime:void 0,refundReasonWap:void 0,refundReason:void 0,refundPrice:void 0,deliverySn:void 0,deliveryName:void 0,deliveryType:"normal",deliveryId:void 0,gainIntegral:void 0,useIntegral:void 0,payIntegral:void 0,backIntegral:void 0,mark:void 0,unique:void 0,remark:void 0,merId:void 0,combinationId:void 0,pinkId:void 0,cost:void 0,seckillId:void 0,bargainId:void 0,verifyCode:void 0,storeId:void 0,shippingType:void 0,isChannel:void 0,isSystemDel:void 0},(a=u.value)==null||a.resetFields()};return(a,e)=>{const t=B,m=z,b=M,N=G,w=j,P=Q,W=Y,q=K;return p(),c(W,{title:d(f),modelValue:d(s),"onUpdate:modelValue":e[4]||(e[4]=i=>E(s)?s.value=i:null)},{footer:l(()=>[v(P,{onClick:R,type:"primary",disabled:d(n)},{default:l(()=>[T("\u786E \u5B9A")]),_:1},8,["disabled"]),v(P,{onClick:e[3]||(e[3]=i=>s.value=!1)},{default:l(()=>[T("\u53D6 \u6D88")]),_:1})]),default:l(()=>[F((p(),c(w,{ref_key:"formRef",ref:u,model:d(o),rules:d(S),"label-width":"120px"},{default:l(()=>[v(m,{label:"\u8BA2\u5355\u53F7",prop:"orderId"},{default:l(()=>[v(t,{modelValue:d(o).orderId,"onUpdate:modelValue":e[0]||(e[0]=i=>d(o).orderId=i),disabled:"",class:"input-width"},null,8,["modelValue"])]),_:1}),v(m,{label:"\u5FEB\u9012\u516C\u53F8",prop:"deliverySn"},{default:l(()=>[v(N,{modelValue:d(o).deliverySn,"onUpdate:modelValue":e[1]||(e[1]=i=>d(o).deliverySn=i),placeholder:"\u9009\u62E9\u5FEB\u9012\u516C\u53F8",onChange:x},{default:l(()=>[v(b,{label:"\u9009\u62E9\u5FEB\u9012\u516C\u53F8",value:""}),(p(!0),J(H,null,L(d(g),i=>(p(),c(b,{key:i.code,label:i.name,value:i.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),v(m,{label:"\u5FEB\u9012\u5355\u53F7",prop:"deliveryId"},{default:l(()=>[v(t,{modelValue:d(o).deliveryId,"onUpdate:modelValue":e[2]||(e[2]=i=>d(o).deliveryId=i),placeholder:"\u8BF7\u8F93\u5165\u5FEB\u9012\u5355\u53F7",class:"input-width"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[q,d(n)]])]),_:1},8,["title","modelValue"])}}}),[["__scopeId","data-v-9d964729"]]);export{ee as default};
