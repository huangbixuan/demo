import{d as N,e as V,z as W,r as v,A as q,J as m,o as y,w as s,O,B as A,a as d,h as n,C as D,S as E,P as U,M as z,l as f,x as B}from"./index-QQaZ7rbf.js";import{_ as F}from"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import{b as J,u as M}from"./index-AwhozRCE.js";const j=N({__name:"StoreOrderRemark",emits:["success"],setup(G,{expose:g,emit:I}){const{t:u}=V(),P=W(),o=v(!1),p=v(""),a=v(!1),k=v(""),r=v({id:void 0,orderId:void 0,extendOrderId:void 0,uid:void 0,realName:void 0,userPhone:void 0,userAddress:void 0,cartId:void 0,freightPrice:void 0,totalNum:void 0,totalPrice:void 0,totalPostage:void 0,payPrice:void 0,payPostage:void 0,deductionPrice:void 0,couponId:void 0,couponPrice:void 0,paid:void 0,payTime:void 0,payType:void 0,status:void 0,refundStatus:void 0,refundReasonWapImg:void 0,refundReasonWapExplain:void 0,refundReasonTime:void 0,refundReasonWap:void 0,refundReason:void 0,refundPrice:void 0,deliverySn:void 0,deliveryName:void 0,deliveryType:void 0,deliveryId:void 0,gainIntegral:void 0,useIntegral:void 0,payIntegral:void 0,backIntegral:void 0,mark:void 0,unique:void 0,remark:void 0,merId:void 0,combinationId:void 0,pinkId:void 0,cost:void 0,seckillId:void 0,bargainId:void 0,verifyCode:void 0,storeId:void 0,shippingType:void 0,isChannel:void 0,isSystemDel:void 0}),b=q({totalPrice:[{required:!0,message:"\u8BA2\u5355\u603B\u4EF7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],payPrice:[{required:!0,message:"\u5B9E\u9645\u652F\u4ED8\u91D1\u989D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],gainIntegral:[{required:!0,message:"\u6D88\u8D39\u8D5A\u53D6\u79EF\u5206\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),l=v();g({open:async(i,e)=>{if(o.value=!0,p.value=u("action."+i),k.value=i,T(),e){a.value=!0;try{r.value=await J(e)}finally{a.value=!1}}}});const R=I,h=async()=>{if(l&&await l.value.validate()){a.value=!0;try{const i=r.value;await M(i),P.success(u("common.updateSuccess")),o.value=!1,R("success")}finally{a.value=!1}}},T=()=>{var i;r.value={id:void 0,orderId:void 0,extendOrderId:void 0,uid:void 0,realName:void 0,userPhone:void 0,userAddress:void 0,cartId:void 0,freightPrice:void 0,totalNum:void 0,totalPrice:void 0,totalPostage:void 0,payPrice:void 0,payPostage:void 0,deductionPrice:void 0,couponId:void 0,couponPrice:void 0,paid:void 0,payTime:void 0,payType:void 0,status:void 0,refundStatus:void 0,refundReasonWapImg:void 0,refundReasonWapExplain:void 0,refundReasonTime:void 0,refundReasonWap:void 0,refundReason:void 0,refundPrice:void 0,deliverySn:void 0,deliveryName:void 0,deliveryType:void 0,deliveryId:void 0,gainIntegral:void 0,useIntegral:void 0,payIntegral:void 0,backIntegral:void 0,mark:void 0,unique:void 0,remark:void 0,merId:void 0,combinationId:void 0,pinkId:void 0,cost:void 0,seckillId:void 0,bargainId:void 0,verifyCode:void 0,storeId:void 0,shippingType:void 0,isChannel:void 0,isSystemDel:void 0},(i=l.value)==null||i.resetFields()};return(i,e)=>{const _=E,x=D,S=A,c=z,C=F,w=U;return y(),m(C,{title:d(p),modelValue:d(o),"onUpdate:modelValue":e[2]||(e[2]=t=>B(o)?o.value=t:null)},{footer:s(()=>[n(c,{onClick:h,type:"primary",disabled:d(a)},{default:s(()=>[f("\u786E \u5B9A")]),_:1},8,["disabled"]),n(c,{onClick:e[1]||(e[1]=t=>o.value=!1)},{default:s(()=>[f("\u53D6 \u6D88")]),_:1})]),default:s(()=>[O((y(),m(S,{ref_key:"formRef",ref:l,model:d(r),rules:d(b),"label-width":"120px"},{default:s(()=>[n(x,{label:"\u5907\u6CE8",prop:"remark"},{default:s(()=>[n(_,{type:"textarea",rows:"5",modelValue:d(r).remark,"onUpdate:modelValue":e[0]||(e[0]=t=>d(r).remark=t),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[w,d(a)]])]),_:1},8,["title","modelValue"])}}});export{j as _};
