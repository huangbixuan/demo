import{aU as g,d as C,e as I,z,r as c,R as O,J as b,o as r,w as n,h as e,n as R,a as p,p as U,c as o,i as d,O as E,M as T,l as j,x as J}from"./index-QQaZ7rbf.js";import{E as M}from"./el-drawer-PTxXA9Gz.js";import{d as N}from"./formatTime-esrXlwGe.js";const P={key:0},S={key:1},q={key:2},A={key:0},B={key:1},D=C({__name:"OrderRecord",setup(F,{expose:h}){const{t:u}=I(),m=z(),w=c(""),i=c(!1),y=c([]);h({open:async(s,l)=>{i.value=!0,w.value=u("action."+s),f(l)}});const _=async s=>{try{await m.delConfirm(),await(async l=>await g.delete({url:"/coupon/user/delete?id="+l}))(s),m.success(u("common.delSuccess")),f(s)}catch{}},f=async s=>{y.value=await(async l=>await g.get({url:"/coupon/user/list?couponId="+l}))(s)};return(s,l)=>{const a=U,k=T,v=R,V=M,x=O("hasPermi");return r(),b(V,{modelValue:p(i),"onUpdate:modelValue":l[0]||(l[0]=t=>J(i)?i.value=t:null),title:p(w),size:"50%"},{default:n(()=>[e(v,{data:p(y),style:{width:"100%"}},{default:n(()=>[e(a,{label:"id",align:"center",prop:"id"}),e(a,{label:"\u5E97\u94FA\u540D\u79F0",align:"center",prop:"shopName",width:"150"}),e(a,{label:"\u4F18\u60E0\u5238\u540D\u79F0",align:"center",prop:"title",width:"150"}),e(a,{label:"\u6D88\u8D39\u591A\u5C11\u53EF\u7528",align:"center",prop:"least",width:"150"}),e(a,{label:"\u4F18\u60E0\u5238\u91D1\u989D",align:"center",prop:"value",width:"150"}),e(a,{label:"\u53EF\u7528\u7C7B\u578B",align:"center",prop:"type"},{default:n(t=>[t.row.type==1?(r(),o("span",P,"\u81EA\u53D6")):d("",!0),t.row.type==0?(r(),o("span",S,"\u5916\u5356")):(r(),o("span",q,"\u901A\u7528"))]),_:1}),e(a,{label:"\u7528\u6237\u6635\u79F0",align:"center",prop:"userId"}),e(a,{label:"\u662F\u5426\u4F7F\u7528",align:"center",prop:"status"},{default:n(t=>[t.row.status==1?(r(),o("span",A,"\u5DF2\u4F7F\u7528")):d("",!0),t.row.status==0?(r(),o("span",B,"\u672A\u4F7F\u7528")):d("",!0)]),_:1}),e(a,{label:"\u9886\u53D6\u65F6\u95F4",align:"center",prop:"createTime",formatter:p(N),width:"170"},null,8,["formatter"]),e(a,{label:"\u64CD\u4F5C",align:"center"},{default:n(t=>[E((r(),b(k,{link:"",type:"danger",onClick:G=>_(t.row.id)},{default:n(()=>[j(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[x,["coupon:user:delete"]]])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","title"])}}});export{D as _};
