import{d as A,z as S,aj as B,a4 as C,r as h,A as E,c as V,o as c,h as e,g as r,m as J,w as u,E as N,J as T,a,N as W,ao as D,M as F,l as _,cm as G,x as H,S as K}from"./index-QQaZ7rbf.js";import{W as L}from"./main-BSp1ppd9.js";import{u as O,U as P}from"./useUpload-uA0mAQ_g.js";const Q=["src"],R={class:"thumb-but"},X=r("div",{style:{margin:"20px 0"}},null,-1),Y=r("div",{style:{margin:"20px 0"}},null,-1),Z=r("div",{style:{margin:"20px 0"}},null,-1),$=A({__name:"TabMusic",props:{modelValue:{}},emits:["update:modelValue"],setup(v,{emit:U}){const b=S(),M={Authorization:"Bearer "+B()},x=v,j=U,l=C({get:()=>x.modelValue,set:d=>j("update:modelValue",d)}),o=h(!1),f=h([]),m=E({accountId:l.value.accountId,type:"thumb",title:"",introduction:""}),I=d=>O(P.Image,2)(d),k=d=>{if(d.code!==0)return b.error("\u4E0A\u4F20\u51FA\u9519\uFF1A"+d.msg),!1;f.value=[],m.title="",m.introduction="",y(d.data)},y=d=>{o.value=!1,l.value.thumbMediaId=d.mediaId,l.value.thumbMediaUrl=d.url};return(d,t)=>{const w=W,s=J,g=F,z=D,p=N,q=G,n=K;return c(),V("div",null,[e(s,{align:"middle",justify:"center"},{default:u(()=>[e(p,{span:6},{default:u(()=>[e(s,{align:"middle",justify:"center",class:"thumb-div"},{default:u(()=>[e(p,{span:24},{default:u(()=>[e(s,{align:"middle",justify:"center"},{default:u(()=>[a(l).thumbMediaUrl?(c(),V("img",{key:0,style:{width:"100px"},src:a(l).thumbMediaUrl},null,8,Q)):(c(),T(w,{key:1,icon:"ep:plus"}))]),_:1}),e(s,{align:"middle",justify:"center",style:{"margin-top":"2%"}},{default:u(()=>[r("div",R,[e(z,{action:"https://meeting.ai-centre.org/admin-api/mp/material/upload-temporary",headers:M,multiple:"",limit:1,"file-list":a(f),data:a(m),"before-upload":I,"on-success":k},{trigger:u(()=>[e(g,{type:"primary",link:""},{default:u(()=>[_("\u672C\u5730\u4E0A\u4F20")]),_:1})]),default:u(()=>[e(g,{type:"primary",link:"",onClick:t[0]||(t[0]=i=>o.value=!0),style:{"margin-left":"5px"}},{default:u(()=>[_("\u7D20\u6750\u5E93\u9009\u62E9 ")]),_:1})]),_:1},8,["file-list","data"])])]),_:1})]),_:1})]),_:1}),e(q,{title:"\u9009\u62E9\u56FE\u7247",modelValue:a(o),"onUpdate:modelValue":t[1]||(t[1]=i=>H(o)?o.value=i:null),width:"80%","append-to-body":"","destroy-on-close":""},{default:u(()=>[e(a(L),{type:"image","account-id":a(l).accountId,onSelectMaterial:y},null,8,["account-id"])]),_:1},8,["modelValue"])]),_:1}),e(p,{span:18},{default:u(()=>[e(n,{modelValue:a(l).title,"onUpdate:modelValue":t[2]||(t[2]=i=>a(l).title=i),placeholder:"\u8BF7\u8F93\u5165\u6807\u9898"},null,8,["modelValue"]),X,e(n,{modelValue:a(l).description,"onUpdate:modelValue":t[3]||(t[3]=i=>a(l).description=i),placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0"},null,8,["modelValue"])]),_:1})]),_:1}),Y,e(n,{modelValue:a(l).musicUrl,"onUpdate:modelValue":t[4]||(t[4]=i=>a(l).musicUrl=i),placeholder:"\u8BF7\u8F93\u5165\u97F3\u4E50\u94FE\u63A5"},null,8,["modelValue"]),Z,e(n,{modelValue:a(l).hqMusicUrl,"onUpdate:modelValue":t[5]||(t[5]=i=>a(l).hqMusicUrl=i),placeholder:"\u8BF7\u8F93\u5165\u9AD8\u8D28\u91CF\u97F3\u4E50\u94FE\u63A5"},null,8,["modelValue"])])}}});export{$ as _};
