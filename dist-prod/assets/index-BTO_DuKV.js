import{d as D,z as J,e as K,r as i,A as M,f as O,R as j,c as h,o as r,h as e,w as a,B as E,a as t,C as G,S as H,T as L,O as d,M as Q,l as u,N as W,J as f,n as $,p as X,P as Y,F as Z}from"./index-QQaZ7rbf.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-CtP16Cnh.js";import{_ as ae}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CerucUbi.js";import{d as le}from"./formatTime-esrXlwGe.js";import{_ as te,S as z}from"./StoreUserForm.vue_vue_type_script_setup_true_lang-DS5njmcQ.js";import"./index-BctfKmg_.js";import"./index-D_95hI5s.js";import"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import"./UserSelect.vue_vue_type_script_setup_true_name_User_lang-DgBr_L2D.js";import"./el-image-DHi7RmhO.js";import"./index-aKI4neIb.js";import"./index-D-uYqOkD.js";const oe={key:0},se={key:1},re=D({name:"StoreUser",__name:"index",setup(ne){const w=J(),{t:P}=K(),g=i(!0),b=i([]),v=i(0),s=M({pageNo:1,pageSize:10,shopId:void 0,nickname:void 0,status:void 0}),S=i();i(!1);const p=async()=>{g.value=!0;try{const c=await z.getStoreUserPage(s);b.value=c.list,v.value=c.total}finally{g.value=!1}},_=()=>{s.pageNo=1,p()},R=()=>{S.value.resetFields(),_()},x=i(),C=(c,o)=>{x.value.open(c,o)};return O(()=>{p()}),(c,o)=>{const F=H,N=G,y=W,m=Q,V=E,U=ae,n=X,I=$,T=ee,k=j("hasPermi"),q=Y;return r(),h(Z,null,[e(U,null,{default:a(()=>[e(V,{class:"-mb-15px",model:t(s),ref_key:"queryFormRef",ref:S,inline:!0,"label-width":"68px"},{default:a(()=>[e(N,{label:"\u7528\u6237\u6635\u79F0",prop:"nickname"},{default:a(()=>[e(F,{modelValue:t(s).nickname,"onUpdate:modelValue":o[0]||(o[0]=l=>t(s).nickname=l),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0",clearable:"",onKeyup:L(_,["enter"]),class:"!w-240px"},null,8,["modelValue"])]),_:1}),e(N,null,{default:a(()=>[e(m,{onClick:_},{default:a(()=>[e(y,{icon:"ep:search",class:"mr-5px"}),u(" \u641C\u7D22")]),_:1}),e(m,{onClick:R},{default:a(()=>[e(y,{icon:"ep:refresh",class:"mr-5px"}),u(" \u91CD\u7F6E")]),_:1}),d((r(),f(m,{type:"primary",plain:"",onClick:o[1]||(o[1]=l=>C("create"))},{default:a(()=>[e(y,{icon:"ep:plus",class:"mr-5px"}),u(" \u65B0\u589E ")]),_:1})),[[k,["yshop:store-user:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),e(U,null,{default:a(()=>[d((r(),f(I,{data:t(b),stripe:!0,"show-overflow-tooltip":!0},{default:a(()=>[e(n,{label:"ID",align:"center",prop:"id"}),e(n,{label:"\u95E8\u5E97\u540D\u79F0",align:"center",prop:"shopName"}),e(n,{label:"\u7528\u6237\u6635\u79F0",align:"center",prop:"nickname"}),e(n,{label:"\u72B6\u6001",align:"center",prop:"status"},{default:a(l=>[l.row.status==1?(r(),h("span",oe,"\u5F00\u542F")):(r(),h("span",se,"\u7981\u6B62"))]),_:1}),e(n,{label:"\u6DFB\u52A0\u65F6\u95F4",align:"center",prop:"createTime",formatter:t(le),width:"180px"},null,8,["formatter"]),e(n,{label:"\u64CD\u4F5C",align:"center"},{default:a(l=>[d((r(),f(m,{link:"",type:"primary",onClick:A=>C("update",l.row.id)},{default:a(()=>[u(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[k,["yshop:store-user:update"]]]),d((r(),f(m,{link:"",type:"danger",onClick:A=>(async B=>{try{await w.delConfirm(),await z.deleteStoreUser(B),w.success(P("common.delSuccess")),await p()}catch{}})(l.row.id)},{default:a(()=>[u(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[k,["yshop:store-user:delete"]]])]),_:1})]),_:1},8,["data"])),[[q,t(g)]]),e(T,{total:t(v),page:t(s).pageNo,"onUpdate:page":o[2]||(o[2]=l=>t(s).pageNo=l),limit:t(s).pageSize,"onUpdate:limit":o[3]||(o[3]=l=>t(s).pageSize=l),onPagination:p},null,8,["total","page","limit"])]),_:1}),e(te,{ref_key:"formRef",ref:x,onSuccess:p},null,512)],64)}}});export{re as default};
