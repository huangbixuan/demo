import{d as M,e as T,z as q,r as n,A as S,J as y,o as g,w as i,O as F,B as j,a as l,h as d,C as z,S as A,P as B,M as J,l as k,x as O}from"./index-QQaZ7rbf.js";import{_ as R}from"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import{a as D,c as E,u as G}from"./index-aKI4neIb.js";const H=M({__name:"UserForm",emits:["success"],setup(K,{expose:_,emit:h}){const{t:p}=T(),c=q(),m=n(!1),V=n(""),t=n(!1),b=n(""),a=n({id:void 0,username:void 0,password:void 0,realName:void 0,birthday:void 0,cardId:void 0,mark:void 0,partnerId:void 0,groupId:void 0,nickname:void 0,avatar:void 0,mobile:void 0,addIp:void 0,lastIp:void 0,nowMoney:void 0,brokeragePrice:void 0,integral:void 0,signNum:void 0,status:void 0,level:void 0,spreadUid:void 0,spreadTime:void 0,userType:void 0,isPromoter:void 0,payCount:void 0,spreadCount:void 0,addres:void 0,adminid:void 0,loginType:void 0,wxProfile:void 0}),w=S({username:[{required:!0,message:"\u7528\u6237\u8D26\u6237\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],nickname:[{required:!0,message:"\u7528\u6237\u6635\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],mobile:[{required:!0,message:"\u4F63\u624B\u673A\u53F7\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),v=n();_({open:async(s,e)=>{if(m.value=!0,V.value=p("action."+s),b.value=s,P(),e){t.value=!0;try{a.value=await D(e)}finally{t.value=!1}}}});const U=h,I=async()=>{if(v&&await v.value.validate()){t.value=!0;try{const s=a.value;b.value==="create"?(await E(s),c.success(p("common.createSuccess"))):(await G(s),c.success(p("common.updateSuccess"))),m.value=!1,U("success")}finally{t.value=!1}}},P=()=>{var s;a.value={id:void 0,username:void 0,password:void 0,realName:void 0,birthday:void 0,cardId:void 0,mark:void 0,partnerId:void 0,groupId:void 0,nickname:void 0,avatar:void 0,mobile:void 0,addIp:void 0,lastIp:void 0,nowMoney:void 0,brokeragePrice:void 0,integral:void 0,signNum:void 0,status:void 0,level:void 0,spreadUid:void 0,spreadTime:void 0,userType:void 0,isPromoter:void 0,payCount:void 0,spreadCount:void 0,addres:void 0,adminid:void 0,loginType:void 0,wxProfile:void 0},(s=v.value)==null||s.resetFields()};return(s,e)=>{const r=A,u=z,C=j,f=J,N=R,x=B;return g(),y(N,{title:l(V),modelValue:l(m),"onUpdate:modelValue":e[11]||(e[11]=o=>O(m)?m.value=o:null)},{footer:i(()=>[d(f,{onClick:I,type:"primary",disabled:l(t)},{default:i(()=>[k("\u786E \u5B9A")]),_:1},8,["disabled"]),d(f,{onClick:e[10]||(e[10]=o=>m.value=!1)},{default:i(()=>[k("\u53D6 \u6D88")]),_:1})]),default:i(()=>[F((g(),y(C,{ref_key:"formRef",ref:v,model:l(a),rules:l(w),"label-width":"100px"},{default:i(()=>[d(u,{label:"\u7528\u6237\u8D26\u6237",prop:"username"},{default:i(()=>[d(r,{modelValue:l(a).username,"onUpdate:modelValue":e[0]||(e[0]=o=>l(a).username=o),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u8D26\u6237"},null,8,["modelValue"])]),_:1}),d(u,{label:"\u7528\u6237\u6635\u79F0",prop:"nickname"},{default:i(()=>[d(r,{modelValue:l(a).nickname,"onUpdate:modelValue":e[1]||(e[1]=o=>l(a).nickname=o),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0"},null,8,["modelValue"])]),_:1}),d(u,{label:"\u624B\u673A\u53F7\u7801",prop:"mobile"},{default:i(()=>[d(r,{modelValue:l(a).mobile,"onUpdate:modelValue":e[2]||(e[2]=o=>l(a).mobile=o),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),d(u,{label:"\u771F\u5B9E\u59D3\u540D",prop:"realName"},{default:i(()=>[d(r,{modelValue:l(a).realName,"onUpdate:modelValue":e[3]||(e[3]=o=>l(a).realName=o),placeholder:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D"},null,8,["modelValue"])]),_:1}),d(u,{label:"\u751F\u65E5",prop:"birthday"},{default:i(()=>[d(r,{modelValue:l(a).birthday,"onUpdate:modelValue":e[4]||(e[4]=o=>l(a).birthday=o),placeholder:"\u8BF7\u8F93\u5165\u751F\u65E5"},null,8,["modelValue"])]),_:1}),d(u,{label:"\u7528\u6237\u5907\u6CE8",prop:"mark"},{default:i(()=>[d(r,{modelValue:l(a).mark,"onUpdate:modelValue":e[5]||(e[5]=o=>l(a).mark=o),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),d(u,{label:"\u7528\u6237\u4F59\u989D",prop:"nowMoney"},{default:i(()=>[d(r,{modelValue:l(a).nowMoney,"onUpdate:modelValue":e[6]||(e[6]=o=>l(a).nowMoney=o),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u4F59\u989D"},null,8,["modelValue"])]),_:1}),d(u,{label:"\u4F63\u91D1\u91D1\u989D",prop:"brokeragePrice"},{default:i(()=>[d(r,{modelValue:l(a).brokeragePrice,"onUpdate:modelValue":e[7]||(e[7]=o=>l(a).brokeragePrice=o),placeholder:"\u8BF7\u8F93\u5165\u4F63\u91D1\u91D1\u989D"},null,8,["modelValue"])]),_:1}),d(u,{label:"\u7528\u6237\u79EF\u5206",prop:"integral"},{default:i(()=>[d(r,{modelValue:l(a).integral,"onUpdate:modelValue":e[8]||(e[8]=o=>l(a).integral=o),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u5269\u4F59\u79EF\u5206"},null,8,["modelValue"])]),_:1}),d(u,{label:"\u8BE6\u7EC6\u5730\u5740",prop:"addres"},{default:i(()=>[d(r,{modelValue:l(a).addres,"onUpdate:modelValue":e[9]||(e[9]=o=>l(a).addres=o),placeholder:"\u8BF7\u8F93\u5165\u8BE6\u7EC6\u5730\u5740"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[x,l(t)]])]),_:1},8,["title","modelValue"])}}});export{H as _};
