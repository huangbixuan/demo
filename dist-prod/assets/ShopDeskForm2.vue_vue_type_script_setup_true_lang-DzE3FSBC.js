import{d as D,e as E,z,r,A as B,J as c,o as v,w as s,O as G,B as J,a as l,h as d,C as K,D as M,c as R,F as j,G as T,K as W,S as X,g as Y,aW as H,aX as L,l as b,P as Z,M as $,x as ee}from"./index-QQaZ7rbf.js";import{_ as le}from"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import{g as ae,b as oe}from"./index-BiAqHivH.js";import{g as de}from"./index-D-uYqOkD.js";const se=Y("span",{style:{padding:"0 15px",background:"#E5EAF3"}},"-",-1),ue=D({__name:"ShopDeskForm2",emits:["success"],setup(re,{expose:y,emit:N}){const{t:f}=E(),w=z(),t=r(!1),V=r(""),i=r(!1),x=r(""),o=r({id:void 0,shopId:void 0,numberPre:void 0,startNumber:void 0,endNumber:void 0,note:void 0,status:void 0}),I=B({shopId:[{required:!0,message:"\u95E8\u5E97\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],numberPre:[{required:!0,message:"\u684C\u53F7\u524D\u7F00\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],startNumber:[{required:!0,message:"\u684C\u53F7\u5F00\u59CB\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],endNumber:[{required:!0,message:"\u684C\u53F7\u7ED3\u675F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u72B6\u6001\uFF1A1=\u542F\u7528\uFF0C2=\u7981\u7528\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),n=r(),g=r([]);y({open:async(u,e)=>{if(t.value=!0,V.value=f("action."+u),x.value=u,q(),k(),e){i.value=!0;try{o.value=await ae(e)}finally{i.value=!1}}}});const P=N,U=async()=>{if(n&&await n.value.validate()){i.value=!0;try{const u=o.value;await oe(u),w.success(f("common.createSuccess")),t.value=!1,P("success")}finally{i.value=!1}}},k=async()=>{try{const u=await de();g.value=u}finally{}},q=()=>{var u;o.value={id:void 0,shopId:void 0,shopName:void 0,number:void 0,miniQrcode:void 0,h5Qrcode:void 0,aliQrcode:void 0,note:void 0,orderCount:void 0,costAmount:void 0,lastOrderNo:void 0,lastOrderTime:void 0,lastOrderStatus:void 0,status:1},(u=n.value)==null||u.resetFields()};return(u,e)=>{const C=W,F=M,m=K,p=X,h=L,O=H,S=J,_=$,A=le,Q=Z;return v(),c(A,{title:l(V),modelValue:l(t),"onUpdate:modelValue":e[7]||(e[7]=a=>ee(t)?t.value=a:null)},{footer:s(()=>[d(_,{onClick:U,type:"primary",disabled:l(i)},{default:s(()=>[b("\u786E \u5B9A")]),_:1},8,["disabled"]),d(_,{onClick:e[6]||(e[6]=a=>t.value=!1)},{default:s(()=>[b("\u53D6 \u6D88")]),_:1})]),default:s(()=>[G((v(),c(S,{ref_key:"formRef",ref:n,model:l(o),rules:l(I),"label-width":"100px"},{default:s(()=>[d(m,{label:"\u9009\u62E9\u5E97\u94FA",prop:"shopId"},{default:s(()=>[d(F,{modelValue:l(o).shopId,"onUpdate:modelValue":e[0]||(e[0]=a=>l(o).shopId=a),placeholder:"\u9009\u62E9\u5E97\u94FA"},{default:s(()=>[(v(!0),R(j,null,T(l(g),a=>(v(),c(C,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),d(m,{label:"\u684C\u53F7\u524D\u7F00",prop:"numberPre"},{default:s(()=>[d(p,{modelValue:l(o).numberPre,"onUpdate:modelValue":e[1]||(e[1]=a=>l(o).numberPre=a),placeholder:"\u6BD4\u5982:Y"},null,8,["modelValue"])]),_:1}),d(m,{label:"\u684C\u53F7\u8303\u56F4",prop:"startNumber"},{default:s(()=>[d(p,{style:{width:"100px"},modelValue:l(o).startNumber,"onUpdate:modelValue":e[2]||(e[2]=a=>l(o).startNumber=a),placeholder:"1"},null,8,["modelValue"]),se,d(p,{style:{width:"100px"},modelValue:l(o).endNumber,"onUpdate:modelValue":e[3]||(e[3]=a=>l(o).endNumber=a),placeholder:"99"},null,8,["modelValue"])]),_:1}),d(m,{label:"\u5907\u6CE8",prop:"note"},{default:s(()=>[d(p,{modelValue:l(o).note,"onUpdate:modelValue":e[4]||(e[4]=a=>l(o).note=a),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),d(m,{label:"\u72B6\u6001",prop:"status"},{default:s(()=>[d(O,{modelValue:l(o).status,"onUpdate:modelValue":e[5]||(e[5]=a=>l(o).status=a)},{default:s(()=>[d(h,{label:1},{default:s(()=>[b("\u542F\u7528")]),_:1}),d(h,{label:0},{default:s(()=>[b("\u7981\u7528")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[Q,l(i)]])]),_:1},8,["title","modelValue"])}}});export{ue as _};
