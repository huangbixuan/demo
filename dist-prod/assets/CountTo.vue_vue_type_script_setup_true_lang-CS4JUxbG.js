import{r as Z,f as $,as as E,at as C,au as N,d as y,av as q,c as g,o as m,J as B,i as I,a as e,aw as j,$ as b,ax as z,ay as G,F as h,G as J,h as H,az as L,aA as K,aB as O,aC as Q,ai as i,Z as U,A as W,a4 as X,t as Y,aD as aa}from"./index-QQaZ7rbf.js";const ta=C({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),ea=C({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),la=y({name:"ElSkeletonItem"});var x=N(y({...la,props:ea,setup(u){const c=q("skeleton");return(o,s)=>(m(),g("div",{class:b([e(c).e("item"),e(c).e(o.variant)])},[o.variant==="image"?(m(),B(e(j),{key:0})):I("v-if",!0)],2))}}),[["__file","skeleton-item.vue"]]);const sa=y({name:"ElSkeleton"}),na=O(N(y({...sa,props:ta,setup(u,{expose:c}){const o=u,s=q("skeleton"),v=((t,d=0)=>{if(d===0)return t;const n=Z(!1);let a=0;const S=()=>{a&&clearTimeout(a),a=window.setTimeout(()=>{n.value=t.value},d)};return $(S),E(()=>t.value,V=>{V?S():n.value=V}),n})(z(o,"loading"),o.throttle);return c({uiLoading:v}),(t,d)=>e(v)?(m(),g("div",L({key:0,class:[e(s).b(),e(s).is("animated",t.animated)]},t.$attrs),[(m(!0),g(h,null,J(t.count,n=>(m(),g(h,{key:n},[t.loading?G(t.$slots,"template",{key:n},()=>[H(x,{class:b(e(s).is("first")),variant:"p"},null,8,["class"]),(m(!0),g(h,null,J(t.rows,a=>(m(),B(x,{key:a,class:b([e(s).e("paragraph"),e(s).is("last",a===t.rows&&t.rows>1)]),variant:"p"},null,8,["class"]))),128))]):I("v-if",!0)],64))),128))],16)):G(t.$slots,"default",K(L({key:1},t.$attrs)))}}),[["__file","skeleton.vue"]]),{SkeletonItem:x});Q(x);const ra=y({name:"CountTo",__name:"CountTo",props:{startVal:i.number.def(0),endVal:i.number.def(2021),duration:i.number.def(3e3),autoplay:i.bool.def(!0),decimals:i.number.validate(u=>u>=0).def(0),decimal:i.string.def("."),separator:i.string.def(","),prefix:i.string.def(""),suffix:i.string.def(""),useEasing:i.bool.def(!0),easingFn:{type:Function,default:(u,c,o,s)=>o*(1-Math.pow(2,-10*u/s))*1024/1023+c}},emits:["mounted","callback"],setup(u,{expose:c,emit:o}){const{getPrefixCls:s}=U(),v=s("count-to"),t=u,d=o,n=r=>{const{decimals:f,decimal:k,separator:l,suffix:p,prefix:P}=t;r=Number(r).toFixed(f);const D=(r+="").split(".");let F=D[0];const R=D.length>1?k+D[1]:"",_=/(\d+)(\d{3})/;if(l&&!aa(l))for(;_.test(F);)F=F.replace(_,"$1"+l+"$2");return P+F+R+p},a=W({localStartVal:t.startVal,displayValue:n(t.startVal),printVal:null,paused:!1,localDuration:t.duration,startTime:null,timestamp:null,remaining:null,rAF:null}),S=z(a,"displayValue");$(()=>{t.autoplay&&A(),d("mounted")});const V=X(()=>t.startVal>t.endVal);E([()=>t.startVal,()=>t.endVal],()=>{t.autoplay&&A()});const A=()=>{const{startVal:r,duration:f}=t;a.localStartVal=r,a.startTime=null,a.localDuration=f,a.paused=!1,a.rAF=requestAnimationFrame(T)},w=()=>{cancelAnimationFrame(a.rAF)},M=()=>{a.startTime=null,a.localDuration=+a.remaining,a.localStartVal=+a.printVal,requestAnimationFrame(T)},T=r=>{const{useEasing:f,easingFn:k,endVal:l}=t;a.startTime||(a.startTime=r),a.timestamp=r;const p=r-a.startTime;a.remaining=a.localDuration-p,f?e(V)?a.printVal=a.localStartVal-k(p,0,a.localStartVal-l,a.localDuration):a.printVal=k(p,a.localStartVal,l-a.localStartVal,a.localDuration):e(V)?a.printVal=a.localStartVal-(a.localStartVal-l)*(p/a.localDuration):a.printVal=a.localStartVal+(l-a.localStartVal)*(p/a.localDuration),e(V)?a.printVal=a.printVal<l?l:a.printVal:a.printVal=a.printVal>l?l:a.printVal,a.displayValue=n(a.printVal),p<a.localDuration?a.rAF=requestAnimationFrame(T):d("callback")};return c({pauseResume:()=>{a.paused?(M(),a.paused=!1):(w(),a.paused=!0)},reset:()=>{a.startTime=null,cancelAnimationFrame(a.rAF),a.displayValue=n(t.startVal)},start:A,pause:w}),(r,f)=>(m(),g("span",{class:b(e(v))},Y(e(S)),3))}});export{na as E,ra as _};
