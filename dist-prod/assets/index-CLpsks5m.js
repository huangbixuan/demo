import{d as J,z as K,e as M,r as i,A as O,f as j,R as D,c as o,o as t,h as e,w as l,B as G,a as n,C as H,S as L,T as Q,O as f,M as W,l as d,N as X,J as g,n as Y,p as Z,i as k,P as $,F as ee}from"./index-QQaZ7rbf.js";import{_ as ae}from"./index.vue_vue_type_script_setup_true_lang-CtP16Cnh.js";import{E as le}from"./el-image-DHi7RmhO.js";import{_ as te}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CerucUbi.js";import{d as ne}from"./formatTime-esrXlwGe.js";import{_ as pe,g as re,d as se}from"./ServiceForm.vue_vue_type_script_setup_true_lang-CC52UvaJ.js";import"./index-BctfKmg_.js";import"./index-D_95hI5s.js";import"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import"./Materials-DPzAVFcF.js";import"./material-mdbw-jQF.js";const oe={key:0},ie={key:1},ue={key:2},ce={key:3},me={key:4},de={key:0},fe={key:1},ge=J({__name:"index",setup(ye){const b=K(),{t:F}=M(),y=i(!0),x=i(0),v=i([]),s=O({pageNo:1,pageSize:10,name:null,image:null,type:null,content:null,pid:null,appId:null,pages:null,phone:null,weigh:null,status:null,createTime:[]}),C=i();i(!1);const u=async()=>{y.value=!0;try{const c=await re(s);v.value=c.list,x.value=c.total}finally{y.value=!1}},_=()=>{s.pageNo=1,u()},P=()=>{C.value.resetFields(),_()},S=i(),N=(c,p)=>{S.value.open(c,p)};return j(()=>{u()}),(c,p)=>{const R=L,z=H,h=X,m=W,U=G,T=te,r=Z,V=le,A=Y,q=ae,w=D("hasPermi"),B=$;return t(),o(ee,null,[e(T,null,{default:l(()=>[e(U,{class:"-mb-15px",model:n(s),ref_key:"queryFormRef",ref:C,inline:!0,"label-width":"68px"},{default:l(()=>[e(z,{label:"\u6807\u9898",prop:"name"},{default:l(()=>[e(R,{modelValue:n(s).name,"onUpdate:modelValue":p[0]||(p[0]=a=>n(s).name=a),placeholder:"\u8BF7\u8F93\u5165\u6807\u9898",clearable:"",onKeyup:Q(_,["enter"]),class:"!w-240px"},null,8,["modelValue"])]),_:1}),e(z,null,{default:l(()=>[e(m,{onClick:_},{default:l(()=>[e(h,{icon:"ep:search",class:"mr-5px"}),d(" \u641C\u7D22")]),_:1}),e(m,{onClick:P},{default:l(()=>[e(h,{icon:"ep:refresh",class:"mr-5px"}),d(" \u91CD\u7F6E")]),_:1}),f((t(),g(m,{type:"primary",onClick:p[1]||(p[1]=a=>N("create"))},{default:l(()=>[e(h,{icon:"ep:plus",class:"mr-5px"}),d(" \u65B0\u589E ")]),_:1})),[[w,["shop:service:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),e(T,null,{default:l(()=>[f((t(),g(A,{data:n(v)},{default:l(()=>[e(r,{label:"id",align:"center",prop:"id"}),e(r,{label:"\u6807\u9898",align:"center",prop:"name"}),e(r,{label:"\u56FE\u6807",align:"center",prop:"image"},{default:l(a=>[e(V,{style:{width:"100px",height:"100px"},src:a.row.image},null,8,["src"])]),_:1}),e(r,{label:"\u7C7B\u578B",align:"center",prop:"type"},{default:l(a=>[a.row.type=="pages"?(t(),o("span",oe,"\u9875\u9762")):k("",!0),a.row.type=="miniprogram"?(t(),o("span",ie,"\u8DF3\u8F6C\u5C0F\u7A0B\u5E8F")):k("",!0),a.row.type=="call"?(t(),o("span",ue,"\u7535\u8BDD")):k("",!0),a.row.type=="content"?(t(),o("span",ce,"\u5185\u5BB9")):(t(),o("span",me,"\u65E0"))]),_:1}),e(r,{label:"\u9875\u9762\u8DEF\u5F84",align:"center",prop:"pages"}),e(r,{label:"\u7535\u8BDD",align:"center",prop:"phone"}),e(r,{label:"\u6743\u91CD",align:"center",prop:"weigh"}),e(r,{label:"\u72B6\u6001",align:"center",prop:"status"},{default:l(a=>[a.row.status==1?(t(),o("span",de,"\u4E0A\u67B6")):(t(),o("span",fe,"\u4E0B\u67B6"))]),_:1}),e(r,{label:"\u6DFB\u52A0\u65F6\u95F4",align:"center",prop:"createTime",formatter:n(ne),width:"170"},null,8,["formatter"]),e(r,{label:"\u64CD\u4F5C",align:"center",fixed:"right",width:"150"},{default:l(a=>[f((t(),g(m,{link:"",type:"primary",onClick:E=>N("update",a.row.id)},{default:l(()=>[d(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[w,["shop:service:update"]]]),f((t(),g(m,{link:"",type:"danger",onClick:E=>(async I=>{try{await b.delConfirm(),await se(I),b.success(F("common.delSuccess")),await u()}catch{}})(a.row.id)},{default:l(()=>[d(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[w,["shop:service:delete"]]])]),_:1})]),_:1},8,["data"])),[[B,n(y)]]),e(q,{total:n(x),page:n(s).pageNo,"onUpdate:page":p[2]||(p[2]=a=>n(s).pageNo=a),limit:n(s).pageSize,"onUpdate:limit":p[3]||(p[3]=a=>n(s).pageSize=a),onPagination:u},null,8,["total","page","limit"])]),_:1}),e(pe,{ref_key:"formRef",ref:S,onSuccess:u},null,512)],64)}}});export{ge as default};
