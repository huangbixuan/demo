import{d as J,z as K,e as M,r as s,A as O,f as j,R as D,c as b,o as n,h as e,w as l,B as G,a as r,C as H,S as I,T as L,O as m,M as Q,l as d,N as W,J as f,n as X,p as Y,P as Z,F as $}from"./index-QQaZ7rbf.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-CtP16Cnh.js";import{E as le}from"./el-image-DHi7RmhO.js";import{_ as ae}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CerucUbi.js";import{d as te}from"./formatTime-esrXlwGe.js";import{_ as re,g as ie,d as oe}from"./ProductForm.vue_vue_type_script_setup_true_lang-Dmb-S4fA.js";import"./index-BctfKmg_.js";import"./index-D_95hI5s.js";import"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import"./Materials-DPzAVFcF.js";import"./material-mdbw-jQF.js";import"./index-BKzVBTyv.js";const ne={key:0},se={key:1},pe=J({__name:"index",setup(ce){const y=K(),{t:F}=M(),g=s(!0),k=s(0),x=s([]),o=O({pageNo:1,pageSize:10,title:null,image:null,images:null,desc:null,score:null,weigh:null,stock:null,sales:null,switch:null,createTime:[]}),C=s();s(!1);const p=async()=>{g.value=!0;try{const c=await ie(o);x.value=c.list,k.value=c.total}finally{g.value=!1}},_=()=>{o.pageNo=1,p()},P=()=>{C.value.resetFields(),_()},S=s(),v=(c,i)=>{S.value.open(c,i)};return j(()=>{p()}),(c,i)=>{const U=I,N=H,w=W,u=Q,R=G,z=ae,a=Y,T=le,V=X,q=ee,h=D("hasPermi"),A=Z;return n(),b($,null,[e(z,null,{default:l(()=>[e(R,{class:"-mb-15px",model:r(o),ref_key:"queryFormRef",ref:C,inline:!0,"label-width":"68px"},{default:l(()=>[e(N,{label:"\u4EA7\u54C1\u6807\u9898",prop:"title"},{default:l(()=>[e(U,{modelValue:r(o).title,"onUpdate:modelValue":i[0]||(i[0]=t=>r(o).title=t),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u6807\u9898",clearable:"",onKeyup:L(_,["enter"]),class:"!w-240px"},null,8,["modelValue"])]),_:1}),e(N,null,{default:l(()=>[e(u,{onClick:_},{default:l(()=>[e(w,{icon:"ep:search",class:"mr-5px"}),d(" \u641C\u7D22")]),_:1}),e(u,{onClick:P},{default:l(()=>[e(w,{icon:"ep:refresh",class:"mr-5px"}),d(" \u91CD\u7F6E")]),_:1}),m((n(),f(u,{type:"primary",plain:"",onClick:i[1]||(i[1]=t=>v("create"))},{default:l(()=>[e(w,{icon:"ep:plus",class:"mr-5px"}),d(" \u65B0\u589E ")]),_:1})),[[h,["score:product:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),e(z,null,{default:l(()=>[m((n(),f(V,{data:r(x)},{default:l(()=>[e(a,{label:"id",align:"center",prop:"id"}),e(a,{label:"\u4EA7\u54C1\u6807\u9898",align:"center",prop:"title"}),e(a,{label:"\u4EA7\u54C1\u5206\u7C7B",align:"center",prop:"cateName"}),e(a,{label:"\u4E3B\u56FE",align:"center",prop:"image"},{default:l(t=>[e(T,{style:{width:"100px",height:"100px"},src:t.row.image},null,8,["src"])]),_:1}),e(a,{label:"\u6D88\u8017\u79EF\u5206",align:"center",prop:"score"}),e(a,{label:"\u5546\u54C1\u4EF7\u683C",align:"center",prop:"price"}),e(a,{label:"\u5546\u54C1\u539F\u4EF7",align:"center",prop:"otPrice"}),e(a,{label:"\u6743\u91CD",align:"center",prop:"weigh"}),e(a,{label:"\u5E93\u5B58",align:"center",prop:"stock"}),e(a,{label:"\u9500\u552E\u91CF",align:"center",prop:"sales"}),e(a,{label:"\u662F\u5426\u4E0A\u67B6",align:"center",prop:"isSwitch"},{default:l(t=>[t.row.isSwitch==1?(n(),b("span",ne,"\u4E0A\u67B6")):(n(),b("span",se,"\u4E0B\u67B6"))]),_:1}),e(a,{label:"\u6DFB\u52A0\u65F6\u95F4",align:"center",prop:"createTime",formatter:r(te),width:"170"},null,8,["formatter"]),e(a,{label:"\u64CD\u4F5C",align:"center",fixed:"right",width:"150"},{default:l(t=>[m((n(),f(u,{link:"",type:"primary",onClick:B=>v("update",t.row.id)},{default:l(()=>[d(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[h,["score:product:update"]]]),m((n(),f(u,{link:"",type:"danger",onClick:B=>(async E=>{try{await y.delConfirm(),await oe(E),y.success(F("common.delSuccess")),await p()}catch{}})(t.row.id)},{default:l(()=>[d(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[h,["score:product:delete"]]])]),_:1})]),_:1},8,["data"])),[[A,r(g)]]),e(q,{total:r(k),page:r(o).pageNo,"onUpdate:page":i[2]||(i[2]=t=>r(o).pageNo=t),limit:r(o).pageSize,"onUpdate:limit":i[3]||(i[3]=t=>r(o).pageSize=t),onPagination:p},null,8,["total","page","limit"])]),_:1}),e(re,{ref_key:"formRef",ref:S,onSuccess:p},null,512)],64)}}});export{pe as default};
