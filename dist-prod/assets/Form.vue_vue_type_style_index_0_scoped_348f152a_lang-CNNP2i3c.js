import{bc as yl,bd as xl,be as Ol,d as de,aP as ye,aY as Ee,b4 as It,av as ve,r as D,aJ as wl,a_ as Fe,a4 as I,a as S,f as Ze,bf as Il,bg as Vl,aL as pe,bh as Tl,au as De,c as Z,o as K,t as fe,aK as ge,$ as L,g as X,bi as oe,at as et,bj as Cl,b5 as ne,bk as Ml,bl as Vt,bm as Rl,bn as Tt,bo as kl,ay as me,aV as ce,bb as Ct,as as xe,bp as zl,h as A,az as he,bq as Mt,br as Ce,bs as Pl,bt as Rt,bu as Bl,bv as $l,A as tt,bw as El,aZ as Me,bx as Fl,by as Dl,bz as Ll,bA as Nl,bB as Hl,bC as Al,bD as kt,bE as Wl,aO as zt,bF as be,bG as Le,bH as Kl,bI as Pt,bJ as _l,bK as Bt,aG as Ne,R as $t,O as Re,w as J,bL as jl,aA as Ul,bM as ql,i as re,J as ie,F as He,G as lt,T as ke,bN as Gl,a7 as Ql,bO as Jl,bP as Et,ba as Ft,k as Xl,aI as Dt,bQ as Yl,bR as Zl,bS as Lt,bT as ea,D as at,bU as ta,j as la,bV as aa,bW as oa,bX as sa,bY as na,aW as Nt,bZ as ia,b_ as ra,b$ as ca,L as ua,c0 as da,c1 as pa,c2 as fa,c3 as ma,c4 as ha,c5 as va,S as ga,an as Ht,c6 as ba,e as Sa,c7 as ya,K as xa,aX as Oa,c8 as wa,a5 as Ia,c9 as Va,ai as ze,P as Ta,B as Ca,Z as Ma,ca as Ra,ar as ka,m as za,E as Pa,C as Ba,b0 as $a,N as Ea}from"./index-QQaZ7rbf.js";import{V as Fa,H as At,I as Wt,S as Kt,v as Da,a as La,u as Na,B as Ha,F as Aa,i as Pe,R as ot,g as _t,b as Wa,c as jt,A as st,d as nt,e as Ka,C as Ae,E as Ut,f as qt,h as Gt,D as _a}from"./el-virtual-list-DFe9KZ20.js";import{E as ja}from"./el-tree-select-BtYVvkSk.js";import{I as Ua}from"./InputPassword-DkllGsTQ.js";const qa={[At]:"deltaX",[Fa]:"deltaY"},Qt=({name:e,getOffset:l,getItemSize:o,getItemOffset:s,getEstimatedTotalSize:r,getStartIndexForOffset:d,getStopIndexForStartIndex:g,initCache:v,clearCache:f,validateProps:y})=>de({name:e??"ElVirtualList",props:Da,emits:[Wt,Kt],setup(h,{emit:n,expose:t}){y(h);const z=wl(),V=ve("vl"),i=D(v(h,z)),c=Na(),O=D(),M=D(),F=D(),u=D({isScrolling:!1,scrollDir:"forward",scrollOffset:Fe(h.initScrollOffset)?h.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:h.scrollbarAlwaysOn}),T=I(()=>{const{total:w,cache:k}=h,{isScrolling:$,scrollDir:j,scrollOffset:B}=S(u);if(w===0)return[0,0,0,0];const N=d(h,B,S(i)),U=g(h,N,B,S(i)),q=$&&j!==Ha?1:Math.max(1,k),te=$&&j!==Aa?1:Math.max(1,k);return[Math.max(0,N-q),Math.max(0,Math.min(w-1,U+te)),N,U]}),C=I(()=>r(h,S(i))),m=I(()=>Pe(h.layout)),x=I(()=>[{position:"relative",["overflow-"+(m.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:h.direction,height:Fe(h.height)?`${h.height}px`:h.height,width:Fe(h.width)?`${h.width}px`:h.width},h.style]),E=I(()=>{const w=S(C),k=S(m);return{height:k?"100%":`${w}px`,pointerEvents:S(u).isScrolling?"none":void 0,width:k?`${w}px`:"100%"}}),P=I(()=>m.value?h.width:h.height),{onWheel:G}=(({atEndEdge:w,atStartEdge:k,layout:$},j)=>{let B,N=0;const U=q=>q<0&&k.value||q>0&&w.value;return{hasReachedEdge:U,onWheel:q=>{yl(B);const te=q[qa[$.value]];U(N)&&U(N+te)||(N+=te,xl()||q.preventDefault(),B=Ol(()=>{j(N),N=0}))}}})({atStartEdge:I(()=>u.value.scrollOffset<=0),atEndEdge:I(()=>u.value.scrollOffset>=C.value),layout:I(()=>h.layout)},w=>{var k,$;($=(k=F.value).onMouseUp)==null||$.call(k),Q(Math.min(u.value.scrollOffset+w,C.value-P.value))}),Y=()=>{const{total:w}=h;if(w>0){const[B,N,U,q]=S(T);n(Wt,B,N,U,q)}const{scrollDir:k,scrollOffset:$,updateRequested:j}=S(u);n(Kt,k,$,j)},Q=w=>{(w=Math.max(w,0))!==S(u).scrollOffset&&(u.value={...S(u),scrollOffset:w,scrollDir:nt(S(u).scrollOffset,w),updateRequested:!0},pe(W))},_=(w,k=st)=>{const{scrollOffset:$}=S(u);w=Math.max(0,Math.min(w,h.total-1)),Q(l(h,w,k,$,S(i)))},W=()=>{u.value.isScrolling=!1,pe(()=>{c.value(-1,null,null)})},H=()=>{const w=O.value;w&&(w.scrollTop=0)};Ze(()=>{if(!Il)return;const{initScrollOffset:w}=h,k=S(O);Fe(w)&&k&&(S(m)?k.scrollLeft=w:k.scrollTop=w),Y()}),Vl(()=>{const{direction:w,layout:k}=h,{scrollOffset:$,updateRequested:j}=S(u),B=S(O);if(j&&B)if(k===At)if(w===ot)switch(_t()){case jt:B.scrollLeft=-$;break;case Wa:B.scrollLeft=$;break;default:{const{clientWidth:N,scrollWidth:U}=B;B.scrollLeft=U-N-$;break}}else B.scrollLeft=$;else B.scrollTop=$});const ee={ns:V,clientSize:P,estimatedTotalSize:C,windowStyle:x,windowRef:O,innerRef:M,innerStyle:E,itemsToRender:T,scrollbarRef:F,states:u,getItemStyle:w=>{const{direction:k,itemSize:$,layout:j}=h,B=c.value(f&&$,f&&j,f&&k);let N;if(Tl(B,String(w)))N=B[w];else{const U=s(h,w,S(i)),q=o(h,w,S(i)),te=S(m),Ie=k===ot,Ve=te?U:0;B[w]=N={position:"absolute",left:Ie?void 0:`${Ve}px`,right:Ie?`${Ve}px`:void 0,top:te?0:`${U}px`,height:te?"100%":`${q}px`,width:te?`${q}px`:"100%"}}return N},onScroll:w=>{S(m)?(k=>{const{clientWidth:$,scrollLeft:j,scrollWidth:B}=k.currentTarget,N=S(u);if(N.scrollOffset===j)return;const{direction:U}=h;let q=j;if(U===ot)switch(_t()){case jt:q=-j;break;case Ka:q=B-$-j}q=Math.max(0,Math.min(q,B-$)),u.value={...N,isScrolling:!0,scrollDir:nt(N.scrollOffset,q),scrollOffset:q,updateRequested:!1},pe(W)})(w):(k=>{const{clientHeight:$,scrollHeight:j,scrollTop:B}=k.currentTarget,N=S(u);if(N.scrollOffset===B)return;const U=Math.max(0,Math.min(B,j-$));u.value={...N,isScrolling:!0,scrollDir:nt(N.scrollOffset,U),scrollOffset:U,updateRequested:!1},pe(W)})(w),Y()},onScrollbarScroll:(w,k)=>{const $=(C.value-P.value)/k*w;Q(Math.min(C.value-P.value,$))},onWheel:G,scrollTo:Q,scrollToItem:_,resetScrollTop:H};return t({windowRef:O,innerRef:M,getItemStyleCache:c,scrollTo:Q,scrollToItem:_,resetScrollTop:H,states:u}),ee},render(h){var n;const{$slots:t,className:z,clientSize:V,containerElement:i,data:c,getItemStyle:O,innerElement:M,itemsToRender:F,innerStyle:u,layout:T,total:C,onScroll:m,onScrollbarScroll:x,onWheel:E,states:P,useIsScrolling:G,windowStyle:Y,ns:Q}=h,[_,W]=F,H=ye(i),ee=ye(M),w=[];if(C>0)for(let B=_;B<=W;B++)w.push((n=t.default)==null?void 0:n.call(t,{data:c,key:B,index:B,isScrolling:G?P.isScrolling:void 0,style:O(B)}));const k=[Ee(ee,{style:u,ref:"innerRef"},It(ee)?w:{default:()=>w})],$=Ee(La,{ref:"scrollbarRef",clientSize:V,layout:T,onScroll:x,ratio:100*V/this.estimatedTotalSize,scrollFrom:P.scrollOffset/(this.estimatedTotalSize-V),total:C}),j=Ee(H,{class:[Q.e("window"),z],style:Y,onScroll:m,onWheel:E,ref:"windowRef",key:0},It(H)?[k]:{default:()=>[k]});return Ee("div",{key:0,class:[Q.e("wrapper"),P.scrollbarAlwaysOn?"always-on":""]},[j,$])}}),Ga=Qt({name:"ElFixedSizeList",getItemOffset:({itemSize:e},l)=>l*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:l})=>l*e,getOffset:({height:e,total:l,itemSize:o,layout:s,width:r},d,g,v)=>{const f=Pe(s)?r:e,y=Math.max(0,l*o-f),h=Math.min(y,d*o),n=Math.max(0,(d+1)*o-f);switch(g===Gt&&(g=v>=n-f&&v<=h+f?st:Ae),g){case qt:return h;case Ut:return n;case Ae:{const t=Math.round(n+(h-n)/2);return t<Math.ceil(f/2)?0:t>y+Math.floor(f/2)?y:t}default:return v>=n&&v<=h?v:v<n?n:h}},getStartIndexForOffset:({total:e,itemSize:l},o)=>Math.max(0,Math.min(e-1,Math.floor(o/l))),getStopIndexForStartIndex:({height:e,total:l,itemSize:o,layout:s,width:r},d,g)=>{const v=d*o,f=Pe(s)?r:e,y=Math.ceil((f+g-v)/o);return Math.max(0,Math.min(l-1,d+y-1))},initCache(){},clearCache:!0,validateProps(){}}),Oe=(e,l,o)=>{const{itemSize:s}=e,{items:r,lastVisitedIndex:d}=o;if(l>d){let g=0;if(d>=0){const v=r[d];g=v.offset+v.size}for(let v=d+1;v<=l;v++){const f=s(v);r[v]={offset:g,size:f},g+=f}o.lastVisitedIndex=l}return r[l]},Jt=(e,l,o,s,r)=>{for(;o<=s;){const d=o+Math.floor((s-o)/2),g=Oe(e,d,l).offset;if(g===r)return d;g<r?o=d+1:g>r&&(s=d-1)}return Math.max(0,o-1)},Qa=(e,l,o,s)=>{const{total:r}=e;let d=1;for(;o<r&&Oe(e,o,l).offset<s;)o+=d,d*=2;return Jt(e,l,Math.floor(o/2),Math.min(o,r-1),s)},Xt=({total:e},{items:l,estimatedItemSize:o,lastVisitedIndex:s})=>{let r=0;if(s>=e&&(s=e-1),s>=0){const d=l[s];r=d.offset+d.size}return r+(e-s-1)*o},Ja=Qt({name:"ElDynamicSizeList",getItemOffset:(e,l,o)=>Oe(e,l,o).offset,getItemSize:(e,l,{items:o})=>o[l].size,getEstimatedTotalSize:Xt,getOffset:(e,l,o,s,r)=>{const{height:d,layout:g,width:v}=e,f=Pe(g)?v:d,y=Oe(e,l,r),h=Xt(e,r),n=Math.max(0,Math.min(h-f,y.offset)),t=Math.max(0,y.offset-f+y.size);switch(o===Gt&&(o=s>=t-f&&s<=n+f?st:Ae),o){case qt:return n;case Ut:return t;case Ae:return Math.round(t+(n-t)/2);default:return s>=t&&s<=n?s:s<t?t:n}},getStartIndexForOffset:(e,l,o)=>((s,r,d)=>{const{items:g,lastVisitedIndex:v}=r;return(v>0?g[v].offset:0)>=d?Jt(s,r,0,v,d):Qa(s,r,Math.max(0,v),d)})(e,o,l),getStopIndexForStartIndex:(e,l,o,s)=>{const{height:r,total:d,layout:g,width:v}=e,f=Pe(g)?v:r,y=Oe(e,l,s),h=o+f;let n=y.offset+y.size,t=l;for(;t<d-1&&n<h;)t++,n+=Oe(e,t,s).size;return t},initCache({estimatedItemSize:e=_a},l){const o={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(s,r=!0)=>{var d,g;o.lastVisitedIndex=Math.min(o.lastVisitedIndex,s-1),(d=l.exposed)==null||d.getItemStyleCache(-1),r&&((g=l.proxy)==null||g.$forceUpdate())}};return o},clearCache:!1,validateProps:({itemSize:e})=>{}});var Xa=De(de({props:{item:{type:Object,required:!0},style:Object,height:Number},setup:()=>({ns:ve("select")})}),[["render",function(e,l,o,s,r,d){return e.item.isTitle?(K(),Z("div",{key:0,class:L(e.ns.be("group","title")),style:ge([e.style,{lineHeight:`${e.height}px`}])},fe(e.item.label),7)):(K(),Z("div",{key:1,class:L(e.ns.be("group","split")),style:ge(e.style)},[X("span",{class:L(e.ns.be("group","split-dash")),style:ge({top:e.height/2+"px"})},null,6)],6))}],["__file","group-item.vue"]]);const Yt={label:"label",value:"value",disabled:"disabled",options:"options"};function We(e){const l=I(()=>({...Yt,...e.props}));return{aliasProps:l,getLabel:o=>oe(o,l.value.label),getValue:o=>oe(o,l.value.value),getDisabled:o=>oe(o,l.value.disabled),getOptions:o=>oe(o,l.value.options)}}const Ya=et({allowCreate:Boolean,autocomplete:{type:ne(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:kl,default:Tt},effect:{type:ne(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:ne([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:ne(Array),required:!0},placeholder:{type:String},teleported:Rl.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:ne(Object),default:()=>({})},remote:Boolean,size:Vt,props:{type:ne(Object),default:()=>Yt},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:ne(String),values:Ml,default:"bottom-start"},fallbackPlacements:{type:ne(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Cl.type,default:"info"},ariaLabel:{type:String,default:void 0}}),Za=et({data:Array,disabled:Boolean,hovering:Boolean,item:{type:ne(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),it=Symbol("ElSelectV2Injection"),eo=de({props:Za,emits:["select","hover"],setup(e,{emit:l}){const o=Ct(it),s=ve("select"),{hoverItem:r,selectOptionClick:d}=function(v,{emit:f}){return{hoverItem:()=>{v.disabled||f("hover",v.index)},selectOptionClick:()=>{v.disabled||f("select",v.item,v.index)}}}(e,{emit:l}),{getLabel:g}=We(o.props);return{ns:s,hoverItem:r,selectOptionClick:d,getLabel:g}}}),to=["aria-selected"];var lo=De(eo,[["render",function(e,l,o,s,r,d){return K(),Z("li",{"aria-selected":e.selected,style:ge(e.style),class:L([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMouseenter:l[0]||(l[0]=(...g)=>e.hoverItem&&e.hoverItem(...g)),onClick:l[1]||(l[1]=ce((...g)=>e.selectOptionClick&&e.selectOptionClick(...g),["stop"]))},[me(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[X("span",null,fe(e.getLabel(e.item)),1)])],46,to)}],["__file","option-item.vue"]]),ao=de({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:l,expose:o}){const s=Ct(it),r=ve("select"),{getLabel:d,getValue:g,getDisabled:v}=We(s.props),f=D([]),y=D(),h=I(()=>e.data.length);xe(()=>h.value,()=>{var u,T;(T=(u=s.tooltipRef.value).updatePopper)==null||T.call(u)});const n=I(()=>zl(s.props.estimatedOptionHeight)),t=I(()=>n.value?{itemSize:s.props.itemHeight}:{estimatedSize:s.props.estimatedOptionHeight,itemSize:u=>f.value[u]}),z=(u,T)=>s.props.multiple?((C=[],m)=>{const{props:{valueKey:x}}=s;return Ce(m)?C&&C.some(E=>Pl(oe(E,x))===oe(m,x)):C.includes(m)})(u,g(T)):((C,m)=>{if(Ce(m)){const{valueKey:x}=s.props;return oe(C,x)===oe(m,x)}return C===m})(u,g(T)),V=(u,T)=>{const{disabled:C,multiple:m,multipleLimit:x}=s.props;return C||!T&&!!m&&x>0&&u.length>=x},i=u=>e.hoveringIndex===u;o({listRef:y,isSized:n,isItemDisabled:V,isItemHovering:i,isItemSelected:z,scrollToItem:u=>{const T=y.value;T&&T.scrollToItem(u)},resetScrollTop:()=>{const u=y.value;u&&u.resetScrollTop()}});const c=u=>{const{index:T,data:C,style:m}=u,x=S(n),{itemSize:E,estimatedSize:P}=S(t),{modelValue:G}=s.props,{onSelect:Y,onHover:Q}=s,_=C[T];if(_.type==="Group")return A(Xa,{item:_,style:m,height:x?E:P},null);const W=z(G,_),H=V(G,W),ee=i(T);return A(lo,he(u,{selected:W,disabled:v(_)||H,created:!!_.created,hovering:ee,item:_,onSelect:Y,onHover:Q}),{default:w=>{var k;return((k=l.default)==null?void 0:k.call(l,w))||A("span",null,[d(_)])}})},{onKeyboardNavigate:O,onKeyboardSelect:M}=s,F=u=>{const{code:T}=u,{tab:C,esc:m,down:x,up:E,enter:P}=Mt;switch(T!==C&&(u.preventDefault(),u.stopPropagation()),T){case C:case m:s.expanded=!1;break;case x:O("forward");break;case E:O("backward");break;case P:M()}};return()=>{var u,T,C,m;const{data:x,width:E}=e,{height:P,multiple:G,scrollbarAlwaysOn:Y}=s.props,Q=S(n)?Ga:Ja;return A("div",{class:[r.b("dropdown"),r.is("multiple",G)],style:{width:`${E}px`}},[(u=l.header)==null?void 0:u.call(l),((T=l.loading)==null?void 0:T.call(l))||((C=l.empty)==null?void 0:C.call(l))||A(Q,he({ref:y},S(t),{className:r.be("dropdown","list"),scrollbarAlwaysOn:Y,data:x,height:P,width:E,total:x.length,onKeydown:F}),{default:_=>A(c,_,null)}),(m=l.footer)==null?void 0:m.call(l)])}}});function oo(e,l){const{aliasProps:o,getLabel:s,getValue:r}=We(e),d=D(0),g=D(null),v=I(()=>e.allowCreate&&e.filterable);return{createNewOption:function(f){if(v.value)if(f&&f.length>0){if(function(h){const n=t=>r(t)===h;return e.options&&e.options.some(n)||l.createdOptions.some(n)}(f))return;const y={[o.value.value]:f,[o.value.label]:f,created:!0,[o.value.disabled]:!1};l.createdOptions.length>=d.value?l.createdOptions[d.value]=y:l.createdOptions.push(y)}else if(e.multiple)l.createdOptions.length=d.value;else{const y=g.value;l.createdOptions.length=0,y&&y.created&&l.createdOptions.push(y)}},removeNewOption:function(f){if(!v.value||!f||!f.created||f.created&&e.reserveKeyword&&l.inputValue===s(f))return;const y=l.createdOptions.findIndex(h=>r(h)===r(f));~y&&(l.createdOptions.splice(y,1),d.value--)},selectNewOption:function(f){v.value&&(e.multiple&&f.created?d.value++:g.value=f)},clearAllNewOption:function(){v.value&&(l.createdOptions.length=0,d.value=0)}}}const so=(e,l)=>{const{t:o}=Rt(),s=ve("select"),r=ve("input"),{form:d,formItem:g}=Bl(),{inputId:v}=$l(e,{formItemContext:g}),{getLabel:f,getValue:y,getDisabled:h,getOptions:n}=We(e),t=tt({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),z=D(-1),V=D(-1),i=D(null),c=D(null),O=D(null),M=D(null),F=D(null),u=D(null),T=D(null),C=D(null),m=D(null),x=D(null),E=D(null),{wrapperRef:P,isFocused:G,handleFocus:Y,handleBlur:Q}=El(F,{afterFocus(){e.automaticDropdown&&!H.value&&(H.value=!0,t.menuVisibleOnFocus=!0)},beforeBlur(a){var p,b;return((p=O.value)==null?void 0:p.isFocusInsideContent(a))||((b=M.value)==null?void 0:b.isFocusInsideContent(a))},afterBlur(){H.value=!1,t.menuVisibleOnFocus=!1}}),_=D([]),W=D([]),H=D(!1),ee=I(()=>e.disabled||(d==null?void 0:d.disabled)),w=I(()=>{const a=W.value.length*e.itemHeight;return a>e.height?e.height:a}),k=I(()=>_.value.some(a=>y(a)==="")),$=I(()=>e.multiple?Me(e.modelValue)&&e.modelValue.length>0:!Fl(e.modelValue)&&(e.modelValue!==""||k.value)),j=I(()=>e.clearable&&!ee.value&&t.inputHovering&&$.value),B=I(()=>e.remote&&e.filterable?"":Dl),N=I(()=>B.value&&s.is("reverse",H.value)),U=I(()=>(g==null?void 0:g.validateState)||""),q=I(()=>Ll[U.value]),te=I(()=>e.remote?300:0),Ie=I(()=>e.loading?e.loadingText||o("el.select.loading"):!(e.remote&&!t.inputValue&&_.value.length===0)&&(e.filterable&&t.inputValue&&_.value.length>0&&W.value.length===0?e.noMatchText||o("el.select.noMatch"):_.value.length===0?e.noDataText||o("el.select.noData"):null)),Ve=a=>{const p=b=>{if(e.filterable&&Le(e.filterMethod)||e.filterable&&e.remote&&Le(e.remoteMethod))return!0;const R=new RegExp(_l(a),"i");return!a||R.test(f(b)||"")};return e.loading?[]:[...t.createdOptions,...e.options].reduce((b,R)=>{const le=n(R);if(Me(le)){const ae=le.filter(p);ae.length>0&&b.push({label:f(R),isTitle:!0,type:"Group"},...ae,{type:"Group"})}else(e.remote||p(R))&&b.push(R);return b},[])},ct=()=>{_.value=Ve(""),W.value=Ve(t.inputValue)},ut=I(()=>{const a=new Map;return _.value.forEach((p,b)=>{a.set(se(y(p)),{option:p,index:b})}),a}),Be=I(()=>{const a=new Map;return W.value.forEach((p,b)=>{a.set(se(y(p)),{option:p,index:b})}),a}),ll=I(()=>W.value.every(a=>h(a))),dt=Nl(),al=I(()=>dt.value==="small"?"small":"default"),pt=()=>{var a;V.value=((a=i.value)==null?void 0:a.offsetWidth)||200},ol=I(()=>{const a=(()=>{if(!c.value)return 0;const p=window.getComputedStyle(c.value);return Number.parseFloat(p.gap||"6px")})();return{maxWidth:`${E.value&&e.maxCollapseTags===1?t.selectionWidth-t.collapseItemWidth-a:t.selectionWidth}px`}}),sl=I(()=>({maxWidth:`${t.selectionWidth}px`})),nl=I(()=>({width:`${Math.max(t.calculatorWidth,11)}px`})),il=I(()=>Me(e.modelValue)?e.modelValue.length===0&&!t.inputValue:!e.filterable||!t.inputValue),rl=I(()=>{var a;const p=(a=e.placeholder)!=null?a:o("el.select.placeholder");return e.multiple||!$.value?p:t.selectedLabel}),cl=I(()=>{var a,p;return(p=(a=O.value)==null?void 0:a.popperRef)==null?void 0:p.contentRef}),ul=I(()=>{if(e.multiple){const a=e.modelValue.length;if(e.modelValue.length>0&&Be.value.has(e.modelValue[a-1])){const{index:p}=Be.value.get(e.modelValue[a-1]);return p}}else if(e.modelValue&&Be.value.has(e.modelValue)){const{index:a}=Be.value.get(e.modelValue);return a}return-1}),dl=I({get:()=>H.value&&Ie.value!==!1,set(a){H.value=a}}),pl=I(()=>e.multiple?e.collapseTags?t.cachedOptions.slice(0,e.maxCollapseTags):t.cachedOptions:[]),fl=I(()=>e.multiple&&e.collapseTags?t.cachedOptions.slice(e.maxCollapseTags):[]),{createNewOption:ft,removeNewOption:je,selectNewOption:mt,clearAllNewOption:Ue}=oo(e,t),{handleCompositionStart:ml,handleCompositionUpdate:hl,handleCompositionEnd:vl}=Hl(a=>wt(a)),qe=()=>{ee.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:H.value=!H.value)},ht=()=>{t.inputValue.length>0&&!H.value&&(H.value=!0),ft(t.inputValue),Ge(t.inputValue)},vt=Al(ht,te.value),Ge=a=>{t.previousQuery!==a&&(t.previousQuery=a,e.filterable&&Le(e.filterMethod)?e.filterMethod(a):e.filterable&&e.remote&&Le(e.remoteMethod)&&e.remoteMethod(a),e.defaultFirstOption&&(e.filterable||e.remote)&&W.value.length?pe(gl):pe(bl))},gl=()=>{const a=W.value.filter(R=>!R.disabled&&R.type!=="Group"),p=a.find(R=>R.created),b=a[0];t.hoveringIndex=Qe(W.value,p||b)},Te=a=>{l(Pt,a),(p=>{kt(e.modelValue,p)||l(Bt,p)})(a),t.previousValue=String(a)},Qe=(a=[],p)=>{if(!Ce(p))return a.indexOf(p);const b=e.valueKey;let R=-1;return a.some((le,ae)=>oe(le,b)===oe(p,b)&&(R=ae,!0)),R},se=a=>Ce(a)?oe(a,e.valueKey):a,gt=()=>{pt()},bt=()=>{t.selectionWidth=c.value.getBoundingClientRect().width},St=()=>{t.calculatorWidth=u.value.getBoundingClientRect().width},Je=()=>{var a,p;(p=(a=O.value)==null?void 0:a.updatePopper)==null||p.call(a)},yt=()=>{var a,p;(p=(a=M.value)==null?void 0:a.updatePopper)==null||p.call(a)},xt=(a,p)=>{if(e.multiple){let b=e.modelValue.slice();const R=Qe(b,y(a));R>-1?(b=[...b.slice(0,R),...b.slice(R+1)],t.cachedOptions.splice(R,1),je(a)):(e.multipleLimit<=0||b.length<e.multipleLimit)&&(b=[...b,y(a)],t.cachedOptions.push(a),mt(a)),Te(b),a.created&&Ge(""),e.filterable&&!e.reserveKeyword&&(t.inputValue="")}else z.value=p,t.selectedLabel=f(a),Te(y(a)),H.value=!1,mt(a),a.created||Ue();$e()},$e=()=>{var a;(a=F.value)==null||a.focus()},Ot=(a,p=void 0)=>{const b=W.value;if(!["forward","backward"].includes(a)||ee.value||b.length<=0||ll.value)return;if(!H.value)return qe();p===void 0&&(p=t.hoveringIndex);let R=-1;a==="forward"?(R=p+1,R>=b.length&&(R=0)):a==="backward"&&(R=p-1,(R<0||R>=b.length)&&(R=b.length-1));const le=b[R];if(h(le)||le.type==="Group")return Ot(a,R);t.hoveringIndex=R,Xe(R)},bl=()=>{e.multiple?t.hoveringIndex=W.value.findIndex(a=>e.modelValue.some(p=>se(p)===se(a))):t.hoveringIndex=W.value.findIndex(a=>se(a)===se(e.modelValue))},wt=a=>{if(t.inputValue=a.target.value,!e.remote)return ht();vt()},Xe=a=>{m.value.scrollToItem(a)},Sl=a=>{const p=se(a);if(ut.value.has(p)){const{option:b}=ut.value.get(p);return b}return{value:a,label:a}},Ye=()=>{if(e.multiple)if(e.modelValue.length>0){t.cachedOptions.length=0,t.previousValue=e.modelValue.toString();for(const a of e.modelValue){const p=Sl(a);t.cachedOptions.push(p)}}else t.cachedOptions=[],t.previousValue=void 0;else if($.value){t.previousValue=e.modelValue;const a=W.value,p=a.findIndex(b=>se(y(b))===se(e.modelValue));t.selectedLabel=~p?f(a[p]):se(e.modelValue)}else t.selectedLabel="",t.previousValue=void 0;Ue(),pt()};return xe(H,a=>{a?Ge(""):(t.inputValue="",t.previousQuery=null,t.isBeforeHide=!0,ft("")),l("visible-change",a)}),xe(()=>e.modelValue,(a,p)=>{var b;a&&a.toString()===t.previousValue||Ye(),!kt(a,p)&&e.validateEvent&&((b=g==null?void 0:g.validate)==null||b.call(g,"change").catch(R=>Wl()))},{deep:!0}),xe(()=>e.options,()=>{const a=F.value;(!a||a&&document.activeElement!==a)&&Ye()},{deep:!0,flush:"post"}),xe(()=>W.value,()=>m.value&&pe(m.value.resetScrollTop)),zt(()=>{t.isBeforeHide||ct()}),zt(()=>{const{valueKey:a,options:p}=e,b=new Map;for(const R of p){const le=y(R);let ae=le;if(Ce(ae)&&(ae=oe(le,a)),b.get(ae))break;b.set(ae,!0)}}),Ze(()=>{Ye()}),be(i,gt),be(c,bt),be(u,St),be(m,Je),be(P,Je),be(x,yt),be(E,()=>{t.collapseItemWidth=E.value.getBoundingClientRect().width}),{inputId:v,collapseTagSize:al,currentPlaceholder:rl,expanded:H,emptyText:Ie,popupHeight:w,debounce:te,allOptions:_,filteredOptions:W,iconComponent:B,iconReverse:N,tagStyle:ol,collapseTagStyle:sl,inputStyle:nl,popperSize:V,dropdownMenuVisible:dl,hasModelValue:$,shouldShowPlaceholder:il,selectDisabled:ee,selectSize:dt,showClearBtn:j,states:t,isFocused:G,nsSelect:s,nsInput:r,calculatorRef:u,inputRef:F,menuRef:m,tagMenuRef:x,tooltipRef:O,tagTooltipRef:M,selectRef:i,wrapperRef:P,selectionRef:c,prefixRef:T,suffixRef:C,collapseItemRef:E,popperRef:cl,validateState:U,validateIcon:q,showTagList:pl,collapseTagList:fl,debouncedOnInputChange:vt,deleteTag:(a,p)=>{let b=e.modelValue.slice();const R=Qe(b,y(p));R>-1&&!ee.value&&(b=[...e.modelValue.slice(0,R),...e.modelValue.slice(R+1)],t.cachedOptions.splice(R,1),Te(b),l("remove-tag",y(p)),je(p)),a.stopPropagation(),$e()},getLabel:f,getValue:y,getDisabled:h,getValueKey:se,handleBlur:Q,handleClear:()=>{let a;a=Me(e.modelValue)?[]:void 0,e.multiple?t.cachedOptions=[]:t.selectedLabel="",H.value=!1,Te(a),l("clear"),Ue(),$e()},handleClickOutside:a=>{if(H.value=!1,G.value){const p=new FocusEvent("focus",a);Q(p)}},handleDel:a=>{if(e.multiple&&a.code!==Mt.delete&&t.inputValue.length===0){a.preventDefault();const p=e.modelValue.slice(),b=Kl(p,le=>!t.cachedOptions.some(ae=>y(ae)===le&&h(ae)));if(b<0)return;p.splice(b,1);const R=t.cachedOptions[b];t.cachedOptions.splice(b,1),je(R),Te(p)}},handleEsc:()=>{t.inputValue.length>0?t.inputValue="":H.value=!1},handleFocus:Y,focus:$e,blur:()=>{var a;(a=F.value)==null||a.blur()},handleMenuEnter:()=>pe(()=>{~ul.value&&Xe(t.hoveringIndex)}),handleResize:gt,resetSelectionWidth:bt,resetCalculatorWidth:St,updateTooltip:Je,updateTagTooltip:yt,updateOptions:ct,toggleMenu:qe,scrollTo:Xe,onInput:wt,onKeyboardNavigate:Ot,onKeyboardSelect:()=>{if(!H.value)return qe();~t.hoveringIndex&&W.value[t.hoveringIndex]&&xt(W.value[t.hoveringIndex],t.hoveringIndex)},onSelect:xt,onHover:a=>{t.hoveringIndex=a},handleCompositionStart:ml,handleCompositionEnd:vl,handleCompositionUpdate:hl}},no=de({name:"ElSelectV2",components:{ElSelectMenu:ao,ElTag:Xl,ElTooltip:Ft,ElIcon:Et},directives:{ClickOutside:Jl},props:Ya,emits:[Pt,Bt,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:l}){const o=I(()=>{const{modelValue:r,multiple:d}=e,g=d?[]:void 0;return Me(r)?d?r:g:d?g:r}),s=so(tt({...Dt(e),modelValue:o}),l);return Yl(it,{props:tt({...Dt(e),height:s.popupHeight,modelValue:o}),tooltipRef:s.tooltipRef,onSelect:s.onSelect,onHover:s.onHover,onKeyboardNavigate:s.onKeyboardNavigate,onKeyboardSelect:s.onKeyboardSelect}),{...s,modelValue:o}}}),io=["id","autocomplete","aria-expanded","aria-label","disabled","readonly","name"],ro=["textContent"];var Ke=De(no,[["render",function(e,l,o,s,r,d){const g=Ne("el-tag"),v=Ne("el-tooltip"),f=Ne("el-icon"),y=Ne("el-select-menu"),h=$t("click-outside");return Re((K(),Z("div",{ref:"selectRef",class:L([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:l[14]||(l[14]=n=>e.states.inputHovering=!0),onMouseleave:l[15]||(l[15]=n=>e.states.inputHovering=!1),onClick:l[16]||(l[16]=ce((...n)=>e.toggleMenu&&e.toggleMenu(...n),["stop"]))},[A(v,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:l[13]||(l[13]=n=>e.states.isBeforeHide=!1)},{default:J(()=>[X("div",{ref:"wrapperRef",class:L([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(K(),Z("div",{key:0,ref:"prefixRef",class:L(e.nsSelect.e("prefix"))},[me(e.$slots,"prefix")],2)):re("v-if",!0),X("div",{ref:"selectionRef",class:L([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?me(e.$slots,"tag",{key:0},()=>[(K(!0),Z(He,null,lt(e.showTagList,n=>(K(),Z("div",{key:e.getValueKey(e.getValue(n)),class:L(e.nsSelect.e("selected-item"))},[A(g,{closable:!e.selectDisabled&&!e.getDisabled(n),size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",style:ge(e.tagStyle),onClose:t=>e.deleteTag(t,n)},{default:J(()=>[X("span",{class:L(e.nsSelect.e("tags-text"))},fe(e.getLabel(n)),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(K(),ie(v,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:J(()=>[X("div",{ref:"collapseItemRef",class:L(e.nsSelect.e("selected-item"))},[A(g,{closable:!1,size:e.collapseTagSize,type:e.tagType,style:ge(e.collapseTagStyle),"disable-transitions":""},{default:J(()=>[X("span",{class:L(e.nsSelect.e("tags-text"))}," + "+fe(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:J(()=>[X("div",{ref:"tagMenuRef",class:L(e.nsSelect.e("selection"))},[(K(!0),Z(He,null,lt(e.collapseTagList,n=>(K(),Z("div",{key:e.getValueKey(e.getValue(n)),class:L(e.nsSelect.e("selected-item"))},[A(g,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(n),size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",onClose:t=>e.deleteTag(t,n)},{default:J(()=>[X("span",{class:L(e.nsSelect.e("tags-text"))},fe(e.getLabel(n)),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):re("v-if",!0)]):re("v-if",!0),e.selectDisabled?re("v-if",!0):(K(),Z("div",{key:1,class:L([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Re(X("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":l[0]||(l[0]=n=>e.states.inputValue=n),style:ge(e.inputStyle),autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:L([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onFocus:l[1]||(l[1]=(...n)=>e.handleFocus&&e.handleFocus(...n)),onBlur:l[2]||(l[2]=(...n)=>e.handleBlur&&e.handleBlur(...n)),onInput:l[3]||(l[3]=(...n)=>e.onInput&&e.onInput(...n)),onCompositionstart:l[4]||(l[4]=(...n)=>e.handleCompositionStart&&e.handleCompositionStart(...n)),onCompositionupdate:l[5]||(l[5]=(...n)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...n)),onCompositionend:l[6]||(l[6]=(...n)=>e.handleCompositionEnd&&e.handleCompositionEnd(...n)),onKeydown:[l[7]||(l[7]=ke(ce(n=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),l[8]||(l[8]=ke(ce(n=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),l[9]||(l[9]=ke(ce((...n)=>e.onKeyboardSelect&&e.onKeyboardSelect(...n),["stop","prevent"]),["enter"])),l[10]||(l[10]=ke(ce((...n)=>e.handleEsc&&e.handleEsc(...n),["stop","prevent"]),["esc"])),l[11]||(l[11]=ke(ce((...n)=>e.handleDel&&e.handleDel(...n),["stop"]),["delete"]))],onClick:l[12]||(l[12]=ce((...n)=>e.toggleMenu&&e.toggleMenu(...n),["stop"]))},null,46,io),[[Gl,e.states.inputValue]]),e.filterable?(K(),Z("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:L(e.nsSelect.e("input-calculator")),textContent:fe(e.states.inputValue)},null,10,ro)):re("v-if",!0)],2)),e.shouldShowPlaceholder?(K(),Z("div",{key:2,class:L([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[X("span",null,fe(e.currentPlaceholder),1)],2)):re("v-if",!0)],2),X("div",{ref:"suffixRef",class:L(e.nsSelect.e("suffix"))},[e.iconComponent?Re((K(),ie(f,{key:0,class:L([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:J(()=>[(K(),ie(ye(e.iconComponent)))]),_:1},8,["class"])),[[Ql,!e.showClearBtn]]):re("v-if",!0),e.showClearBtn&&e.clearIcon?(K(),ie(f,{key:1,class:L([e.nsSelect.e("caret"),e.nsInput.e("icon")]),onClick:ce(e.handleClear,["prevent","stop"])},{default:J(()=>[(K(),ie(ye(e.clearIcon)))]),_:1},8,["class","onClick"])):re("v-if",!0),e.validateState&&e.validateIcon?(K(),ie(f,{key:2,class:L([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:J(()=>[(K(),ie(ye(e.validateIcon)))]),_:1},8,["class"])):re("v-if",!0)],2)],2)]),content:J(()=>[A(y,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},jl({default:J(n=>[me(e.$slots,"default",Ul(ql(n)))]),_:2},[e.$slots.header?{name:"header",fn:J(()=>[X("div",{class:L(e.nsSelect.be("dropdown","header"))},[me(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:J(()=>[X("div",{class:L(e.nsSelect.be("dropdown","loading"))},[me(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:J(()=>[X("div",{class:L(e.nsSelect.be("dropdown","empty"))},[me(e.$slots,"empty",{},()=>[X("span",null,fe(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:J(()=>[X("div",{class:L(e.nsSelect.be("dropdown","footer"))},[me(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow"])],34)),[[h,e.handleClickOutside,e.popperRef]])}],["__file","select.vue"]]);Ke.install=e=>{e.component(Ke.name,Ke)};const co=Ke,uo=et({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Vt,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:ne([String,Object]),default:()=>Zl},clearIcon:{type:ne([String,Object]),default:()=>Tt}}),ue=e=>{const l=(e||"").split(":");if(l.length>=2){let o=Number.parseInt(l[0],10);const s=Number.parseInt(l[1],10),r=e.toUpperCase();return r.includes("AM")&&o===12?o=0:r.includes("PM")&&o!==12&&(o+=12),{hours:o,minutes:s}}return null},rt=(e,l)=>{const o=ue(e);if(!o)return-1;const s=ue(l);if(!s)return-1;const r=o.minutes+60*o.hours,d=s.minutes+60*s.hours;return r===d?0:r>d?1:-1},Zt=e=>`${e}`.padStart(2,"0"),we=e=>`${Zt(e.hours)}:${Zt(e.minutes)}`,po=(e,l)=>{const o=ue(e);if(!o)return"";const s=ue(l);if(!s)return"";const r={hours:o.hours,minutes:o.minutes};return r.minutes+=s.minutes,r.hours+=s.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,we(r)},fo=de({name:"ElTimeSelect"}),mo=de({...fo,props:uo,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:l}){const o=e;Lt.extend(ea);const{Option:s}=at,r=ve("input"),d=D(),g=ta(),{lang:v}=Rt(),f=I(()=>o.modelValue),y=I(()=>{const i=ue(o.start);return i?we(i):null}),h=I(()=>{const i=ue(o.end);return i?we(i):null}),n=I(()=>{const i=ue(o.step);return i?we(i):null}),t=I(()=>{const i=ue(o.minTime||"");return i?we(i):null}),z=I(()=>{const i=ue(o.maxTime||"");return i?we(i):null}),V=I(()=>{const i=[];if(o.start&&o.end&&o.step){let c,O=y.value;for(;O&&h.value&&rt(O,h.value)<=0;)c=Lt(O,"HH:mm").locale(v.value).format(o.format),i.push({value:c,disabled:rt(O,t.value||"-1:-1")<=0||rt(O,z.value||"100:100")>=0}),O=po(O,n.value)}return i});return l({blur:()=>{var i,c;(c=(i=d.value)==null?void 0:i.blur)==null||c.call(i)},focus:()=>{var i,c;(c=(i=d.value)==null?void 0:i.focus)==null||c.call(i)}}),(i,c)=>(K(),ie(S(at),{ref_key:"select",ref:d,"model-value":S(f),disabled:S(g),clearable:i.clearable,"clear-icon":i.clearIcon,size:i.size,effect:i.effect,placeholder:i.placeholder,"default-first-option":"",filterable:i.editable,"onUpdate:modelValue":c[0]||(c[0]=O=>i.$emit("update:modelValue",O)),onChange:c[1]||(c[1]=O=>i.$emit("change",O)),onBlur:c[2]||(c[2]=O=>i.$emit("blur",O)),onFocus:c[3]||(c[3]=O=>i.$emit("focus",O))},{prefix:J(()=>[i.prefixIcon?(K(),ie(S(Et),{key:0,class:L(S(r).e("prefix-icon"))},{default:J(()=>[(K(),ie(ye(i.prefixIcon)))]),_:1},8,["class"])):re("v-if",!0)]),default:J(()=>[(K(!0),Z(He,null,lt(S(V),O=>(K(),ie(S(s),{key:O.value,label:O.value,value:O.value,disabled:O.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var _e=De(mo,[["__file","time-select.vue"]]);_e.install=e=>{e.component(_e.name,_e)};const el={Radio:Nt,Checkbox:Ht,CheckboxButton:Ht,Input:ga,Autocomplete:va,InputNumber:ha,Select:at,Cascader:ma,Switch:fa,Slider:pa,TimePicker:da,DatePicker:ua,Rate:ca,ColorPicker:ra,Transfer:ia,Divider:la,TimeSelect:_e,SelectV2:co,TreeSelect:ja,RadioButton:Nt,InputPassword:Ua,Editor:na,UploadImg:sa,UploadImgs:oa,UploadFile:aa},Se=(e,l="default",o)=>{if(!e||!Reflect.has(e,l)||!ba(e[l]))return null;const s=e[l];return s?s(o):null},ho=(e,l={},o)=>{const s={};for(const r in l)l[r]&&(s[r]=d=>Se(e,`${o}-${r}`,d));return s};function tl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$a(e)}const{getPrefixCls:vo}=Ma(),go=vo("form"),bo=de({name:"Form",props:{schema:{type:Array,default:()=>[]},isCol:ze.bool.def(!1),model:{type:Object,default:()=>({})},autoSetPlaceholder:ze.bool.def(!0),isCustom:ze.bool.def(!1),labelWidth:ze.oneOfType([String,Number]).def("auto"),vLoading:ze.bool.def(!1)},emits:["register"],setup(e,{slots:l,expose:o,emit:s}){const r=D(),d=D({}),g=D({}),v=I(()=>{const t={...e};return Object.assign(t,S(g)),t}),f=D({});Ze(()=>{var t;s("register",(t=S(r))==null?void 0:t.$parent,S(r))}),o({setValues:(t={})=>{f.value=Object.assign(S(f),t)},formModel:f,setProps:(t={})=>{g.value=Object.assign(S(g),t),d.value=t},delSchema:t=>{const{schema:z}=S(v),V=Ra(z,i=>i.field===t);V>-1&&z.splice(V,1)},addSchema:(t,z)=>{const{schema:V}=S(v);z===void 0?V.push(t):V.splice(z,0,t)},setSchema:t=>{const{schema:z}=S(v);for(const V of z)for(const i of t)V.field===i.field&&ka(V,i.path,i.value)},getElFormRef:()=>S(r)}),xe(()=>S(v).schema,(t=[])=>{f.value=((z,V)=>{const i={...V};return z.map(c=>{if(c.hidden)delete i[c.field];else if(c.component&&c.component!=="Divider"){const O=Reflect.has(i,c.field);i[c.field]=O?i[c.field]:c.value!==void 0?c.value:""}}),i})(t,S(f))},{immediate:!0,deep:!0});const y=()=>{const{schema:t=[],isCol:z}=S(v);return t.filter(V=>!V.hidden).map(V=>{let i;return V.component==="Divider"?A(el.Divider,{contentPosition:"left",...V.componentProps},{default:()=>[V==null?void 0:V.label]}):z?A(Pa,((c={})=>({...c.span?{}:{xs:24,sm:12,md:12,lg:12,xl:12},...c}))(V.colProps),tl(i=h(V))?i:{default:()=>[i]}):h(V)})},h=t=>{var c,O;const z=["SelectV2","Cascader","Transfer"],V={...ho(l,(c=t==null?void 0:t.componentProps)==null?void 0:c.slots,t.field)};(t==null?void 0:t.component)!=="SelectV2"&&(t==null?void 0:t.component)!=="Cascader"&&((O=t==null?void 0:t.componentProps)!=null&&O.options)&&(V.default=()=>n(t));const i=((M,F)=>{const u={};return M[`${F}-error`]&&(u.error=T=>Se(M,`${F}-error`,T)),M[`${F}-label`]&&(u.label=T=>Se(M,`${F}-label`,T)),u})(l,t.field);return t!=null&&t.labelMessage&&(i.label=()=>A(He,null,[A("span",null,[t.label]),A(Ft,{placement:"right","raw-content":!0},{content:()=>Re(A("span",null,null),[[$t("dompurify-html"),t.labelMessage]]),default:()=>A(Ea,{icon:"ep:warning",size:16,color:"var(--el-color-primary)",class:"relative top-1px ml-2px"},null)})])),A(Ba,he(t.formItemProps||{},{prop:t.field,label:t.label||""}),{...i,default:()=>{var u,T,C;const M=el[t.component],{autoSetPlaceholder:F}=S(v);return l[t.field]?Se(l,t.field,f.value):A(M,he({modelValue:f.value[t.field],"onUpdate:modelValue":m=>f.value[t.field]=m},F&&(m=>{var E,P;const{t:x}=Sa();return["Input","Autocomplete","InputNumber","InputPassword"].includes(m==null?void 0:m.component)?{placeholder:x("common.inputText")+m.label}:["Select","SelectV2","TimePicker","DatePicker","TimeSelect","TimeSelect"].includes(m==null?void 0:m.component)?["datetimerange","daterange","monthrange","datetimerange","daterange"].includes(((E=m==null?void 0:m.componentProps)==null?void 0:E.type)||((P=m==null?void 0:m.componentProps)==null?void 0:P.isRange))?{startPlaceholder:x("common.startTimeText"),endPlaceholder:x("common.endTimeText"),rangeSeparator:"-"}:{placeholder:x("common.selectText")+m.label}:{}})(t),(m=>{const x=["ColorPicker"].includes(m.component)?{...m.componentProps}:{clearable:!0,...m.componentProps};return x==null||delete x.slots,x})(t),{style:(u=t.componentProps)==null?void 0:u.style},z.includes(t==null?void 0:t.component)&&((T=t==null?void 0:t.componentProps)!=null&&T.options)?{options:((C=t==null?void 0:t.componentProps)==null?void 0:C.options)||[]}:{}),{...V})}})},n=t=>{switch(t.component){case"Select":case"SelectV2":const{renderSelectOptions:z}=(c=>{const O=(M,F)=>{var E,P,G,Y;const u=(P=(E=M==null?void 0:M.componentProps)==null?void 0:E.optionsAlias)==null?void 0:P.labelField,T=(Y=(G=M==null?void 0:M.componentProps)==null?void 0:G.optionsAlias)==null?void 0:Y.valueField,{label:C,value:m,...x}=F;return A(xa,he(x,{label:u?F[u]:C,value:T?F[T]:m}),{default:()=>{var Q;return(Q=M==null?void 0:M.componentProps)!=null&&Q.optionsSlot?Se(c,`${M.field}-option`,{item:F}):void 0}})};return{renderSelectOptions:M=>{var u,T,C,m;const F=(T=(u=M==null?void 0:M.componentProps)==null?void 0:u.optionsAlias)==null?void 0:T.labelField;return(m=(C=M==null?void 0:M.componentProps)==null?void 0:C.options)==null?void 0:m.map(x=>{var E;return(E=x==null?void 0:x.options)!=null&&E.length?A(ya,{label:x[F||"label"]},{default:()=>{var P;return(P=x==null?void 0:x.options)==null?void 0:P.map(G=>O(M,G))}}):O(M,x)})}}})(l);return z(t);case"Radio":case"RadioButton":const{renderRadioOptions:V}={renderRadioOptions:c=>{var u,T,C,m,x,E;const O=(T=(u=c==null?void 0:c.componentProps)==null?void 0:u.optionsAlias)==null?void 0:T.labelField,M=(m=(C=c==null?void 0:c.componentProps)==null?void 0:C.optionsAlias)==null?void 0:m.valueField,F=c.component==="Radio"?Oa:wa;return(E=(x=c==null?void 0:c.componentProps)==null?void 0:x.options)==null?void 0:E.map(P=>{const{...G}=P;return A(F,he(G,{label:P[M||"value"]}),{default:()=>[P[O||"label"]]})})}};return V(t);case"Checkbox":case"CheckboxButton":const{renderCheckboxOptions:i}={renderCheckboxOptions:c=>{var u,T,C,m,x,E;const O=(T=(u=c==null?void 0:c.componentProps)==null?void 0:u.optionsAlias)==null?void 0:T.labelField,M=(m=(C=c==null?void 0:c.componentProps)==null?void 0:C.optionsAlias)==null?void 0:m.valueField,F=c.component==="Checkbox"?Ia:Va;return(E=(x=c==null?void 0:c.componentProps)==null?void 0:x.options)==null?void 0:E.map(P=>{const{...G}=P;return A(F,he(G,{label:P[M||"value"]}),{default:()=>[P[O||"label"]]})})}};return i(t)}};return()=>Re(A(Ca,he({ref:r},(()=>{const t=["schema","isCol","autoSetPlaceholder","isCustom","model"],z={...S(v)};for(const V in z)t.indexOf(V)!==-1&&delete z[V];return z})(),{model:e.isCustom?e.model:f,class:go}),{default:()=>{const{isCustom:t}=S(v);return t?Se(l,"default"):(()=>{let z;const{isCol:V}=S(v);return V?A(za,{gutter:20},tl(z=y())?z:{default:()=>[z]}):y()})()}}),[[Ta,e.vLoading]])}});export{bo as _,Se as g};
