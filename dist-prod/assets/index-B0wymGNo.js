import{u as L,_ as M,a as w}from"./useTable-Bv_wCyYn.js";import{_ as F}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CerucUbi.js";import{d as j,r as P,f as A,R as O,c as T,o as s,h as o,w as r,a,O as p,J as c,M as U,l as u,N as J,F as N,__tla as q}from"./index-QQaZ7rbf.js";import{a as v,_ as B,__tla as D}from"./MailTemplateForm.vue_vue_type_script_setup_true_lang-DAyOHhNz.js";import{d as E,a as G}from"./index-DU3HLl76.js";import{_ as H}from"./MailTemplateSendForm.vue_vue_type_script_setup_true_lang-Bir5tl92.js";import"./Form.vue_vue_type_style_index_0_scoped_348f152a_lang-CNNP2i3c.js";import"./el-virtual-list-DFe9KZ20.js";import"./el-tree-select-BtYVvkSk.js";import"./InputPassword-DkllGsTQ.js";import"./index-BctfKmg_.js";import"./Form-D4EiUnE1.js";import"./useForm-PWYayWvW.js";import"./download--D_IyRio.js";import"./index-D_95hI5s.js";import"./Dialog.vue_vue_type_style_index_0_lang-BZRnyNPI.js";import"./formatTime-esrXlwGe.js";import"./useCrudSchemas-CBdiiEti.js";import"./tree-Bh1o0y0-.js";import"./DictTag.vue_vue_type_script_lang-DFL6gWod.js";import"./color-xEzN0Pg5.js";import"./formRules-C_yg8zTD.js";let b,I=Promise.all([(()=>{try{return q}catch{}})(),(()=>{try{return D}catch{}})()]).then(async()=>{b=j({name:"SystemMailTemplate",__name:"index",setup(K){const{tableObject:i,tableMethods:d}=L({getListApi:G,delListApi:E}),{getList:_,setSearchParams:f}=d,g=P(),y=(k,e)=>{g.value.open(k,e)},h=P();return A(()=>{_()}),(k,e)=>{const z=J,m=U,R=M,S=F,x=w,n=O("hasPermi");return s(),T(N,null,[o(S,null,{default:r(()=>[o(R,{schema:a(v).searchSchema,onSearch:a(f),onReset:a(f)},{actionMore:r(()=>[p((s(),c(m,{type:"primary",plain:"",onClick:e[0]||(e[0]=t=>y("create"))},{default:r(()=>[o(z,{icon:"ep:plus",class:"mr-5px"}),u(" \u65B0\u589E ")]),_:1})),[[n,["system:mail-template:create"]]])]),_:1},8,["schema","onSearch","onReset"])]),_:1}),o(S,null,{default:r(()=>[o(x,{columns:a(v).tableColumns,data:a(i).tableList,loading:a(i).loading,pagination:{total:a(i).total},pageSize:a(i).pageSize,"onUpdate:pageSize":e[1]||(e[1]=t=>a(i).pageSize=t),currentPage:a(i).currentPage,"onUpdate:currentPage":e[2]||(e[2]=t=>a(i).currentPage=t)},{action:r(({row:t})=>[p((s(),c(m,{link:"",type:"primary",onClick:C=>{return l=t.id,void h.value.open(l);var l}},{default:r(()=>[u(" \u6D4B\u8BD5 ")]),_:2},1032,["onClick"])),[[n,["system:mail-template:send-mail"]]]),p((s(),c(m,{link:"",type:"primary",onClick:C=>y("update",t.id)},{default:r(()=>[u(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[n,["system:mail-template:update"]]]),p((s(),c(m,{link:"",type:"danger",onClick:C=>{return l=t.id,void d.delList(l,!1);var l}},{default:r(()=>[u(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[n,["system:mail-template:delete"]]])]),_:1},8,["columns","data","loading","pagination","pageSize","currentPage"])]),_:1}),o(B,{ref_key:"formRef",ref:g,onSuccess:a(_)},null,8,["onSuccess"]),o(H,{ref_key:"sendFormRef",ref:h},null,512)],64)}}})});export{I as __tla,b as default};
